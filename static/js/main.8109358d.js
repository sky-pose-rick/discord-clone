/*! For license information please see main.8109358d.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,E=60107,S=60108,T=60114,C=60109,I=60110,A=60112,N=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,U=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),x=F("react.portal"),E=F("react.fragment"),S=F("react.strict_mode"),T=F("react.profiler"),C=F("react.provider"),I=F("react.context"),A=F("react.forward_ref"),N=F("react.suspense"),R=F("react.suspense_list"),O=F("react.memo"),P=F("react.lazy"),D=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),U=F("react.offscreen"),j=F("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ie=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function Re(e){Ie?Ae?Ae.push(e):Ae=[e]:Ie=e}function Oe(){if(Ie){var e=Ie,t=Ae;if(Ae=Ie=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Ue=!1,je=!1;function Fe(){null===Ie&&null===Ae||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,He=null,We=!1,Ge=null,$e={onError:function(e){Ke=!0,He=e}};function Qe(e,t,n,r,i,a,o,s,u){Ke=!1,He=null,qe.apply($e,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},Tt={};function Ct(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var It=Ct("animationend"),At=Ct("animationiteration"),Nt=Ct("animationstart"),Rt=Ct("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",It,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ut(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ut(u),i=Mt):0!==(s&=a)&&(r=Ut(s),i=Mt)}else 0!==(a=n&~o)?(r=Ut(a),i=Mt):0!==s&&(r=Ut(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Xt(e,t,n,r){Ue||Le();var i=Jt,a=Ue;Ue=!0;try{De(i,e,t,n,r)}finally{(Ue=a)||Fe()}}function Yt(e,t,n,r){$t(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(wn),xn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function In(){return Cn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],Un=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Fn=f&&"TextEvent"in window&&!jn,Vn=f&&(!Un||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function $n(e,t,n,r){Re(r),0<(t=Ur(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Xn=null;function Yn(e){Ar(e,0)}function Jn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Xn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if($n(t,Xn,e,Te(e)),e=Yn,Ue)e(t);else{Ue=!0;try{Pe(e,t)}finally{Ue=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Ur(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Pt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=He;Ke=!1,He=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case It:case At:case Nt:u=bn;break;case Rt:u=Pn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?$n(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Un)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Ur(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Un&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Si=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ii=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Ui={},ji=void 0!==Ai?Ai:function(){},Fi=null,Vi=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Ki(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ci(e)}Qi()}function Qi(){if(!Bi&&null!==Fi){Bi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Oi,$i),n}finally{Bi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$u(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Yu(t,e.mode,n)).return=e,t}if(_a(t)||z(t))return(t=$u(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=$u(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(_a(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Sa(!0),Ca=Sa(!1),Ia={},Aa=ci(Ia),Na=ci(Ia),Ra=ci(Ia);function Oa(e){if(e===Ia)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Ua=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,Ba=!1;function za(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=$r(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Fa=e);za(Fa,n)}Fa=e,Va=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Fa=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=$r(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?$r(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,Ba=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Xa=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Oo,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Uo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Ps;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Kt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function Co(){}function Io(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Co,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Uo=!1;function jo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Ta(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Uo=!0)}return Ko(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var $o,Qo,Xo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Ua.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ua,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=$u(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=$u(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Aa.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Aa.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Ua),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ps||0===(134217727&Bs)&&0===(134217727&zs)||gu(Ps,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ua),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ua,1&Ua.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ua.current,fi(Ua,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Ua),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ua),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Uu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Uu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=qi(),gs(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Os=0,Ps=null,Ds=null,Ls=0,Ms=0,Us=ci(0),js=0,Fs=null,Vs=0,Bs=0,zs=0,qs=0,Ks=null,Hs=0,Ws=1/0;function Gs(){Ws=qi()+500}var $s,Qs=null,Xs=!1,Ys=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===uu&&(uu=Vs),0!==Xi.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Os)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Ps&&(zs|=t,4===js&&gu(e,Ls));var r=Ki();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(mu(e,n),0===Os&&(Gs(),$i())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ut(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Ps?Ls:0),t=Mt,0===r)null!==n&&(n!==Ui&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Ci(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Vi=Ti(Oi,Qi)):Fi.push(n),n=Ui):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=jt(e,e===Ps?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=Tu();for(Ps===e&&Ls===r||(Gs(),Eu(e,r));;)try{Au();break}catch(u){Su(e,u)}if(na(),Ns.current=a,Os=i,null!==Ds?r=0:(Ps=null,Ls=0,r=js),0!==(Vs&zs))Eu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Cu(e,n))),1===r)throw t=Fs,Eu(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Hr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Lu(),e===Ps&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Cu(e,t);0!==(Vs&zs)&&(n=Cu(e,t=jt(e,t)))}else n=Cu(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Cu(e,t))),1===n)throw n=Fs,Eu(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),mu(e,qi()),null}function bu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),$i())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),$i())}}function _u(e,t){fi(Us,Ms),Ms|=t,Vs|=t}function xu(){Ms=Us.current,li(Us)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Ua);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Ps=e,Ds=Wu(e.current,null),Ls=Ms=Vs=t,js=0,Fs=null,qs=zs=Bs=0}function Su(e,t){for(;;){var n=Ds;try{if(na(),Xa.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){js=1,Fs=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ua.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Js||!Js.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=Ns.current;return Ns.current=Oo,null===e?Oo:e}function Cu(e,t){var n=Os;Os|=16;var r=Tu();for(Ps===e&&Ls===t||Eu(e,t);;)try{Iu();break}catch(i){Su(e,i)}if(na(),Os=n,Ns.current=r,null!==Ds)throw Error(o(261));return Ps=null,Ls=0,js}function Iu(){for(;null!==Ds;)Nu(Ds)}function Au(){for(;null!==Ds&&!Ii();)Nu(Ds)}function Nu(e){var t=$s(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Ou(e){var t=Ki();return Wi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Ds=Ps=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Rs.current=null,Br=Qt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Du()}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var k=Qs.flags;if(16&k&&ge(Qs.stateNode,""),128&k){var b=Qs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_s(Qs),Qs.flags&=-3;break;case 6:_s(Qs),Qs.flags&=-3,Ts(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Ts(Qs.alternate,Qs);break;case 4:Ts(Qs.alternate,Qs);break;case 8:Ss(s,u=Qs);var _=u.alternate;bs(u),null!==_&&bs(_)}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);if(w=zr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=pr(k,_),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Br,zr=Br=null,e.current=n,Qs=r;do{try{for(k=e;null!==Qs;){var x=Qs.flags;if(36&x&&ys(k,Qs.alternate,Qs),128&x){b=void 0;var E=Qs.ref;if(null!==E){var S=Qs.stateNode;Qs.tag,b=S,"function"===typeof E?E(b):E.current=b}}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,ji(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((x=Qs).sibling=null,x.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,qi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Os)||$i(),null}function Du(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Is(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Qs=Qs.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,ju)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Uu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,$i(),!0}function Fu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>qi()-Hs?Eu(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new qu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return $u(n.children,i,a,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(e=Ku(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Ku(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ku(19,n,t,i)).elementType=R,e.lanes=a,e;case U:return Qu(n,i,a,t);case j:return(e=Ku(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case A:s=11;break e;case O:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $u(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=U,e.lanes=n,e}function Xu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Ua,1&Ua.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ua,1&Ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ua,Ua.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=$r(t.stateNode.containerInfo.firstChild),Fa=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Vo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bu,De=function(e,t,n,r,i){var a=Os;Os|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),$i())}},Le=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}$i()}(),Lu())},Me=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),$i())}};var uc={Events:[ri,ii,ai,Re,Oe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Os=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=C(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,u(_,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],I=1,A=null,N=3,R=!1,O=!1,P=!1;function D(e){for(var t=x(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,_(T,t)}t=x(C)}}function L(e){if(P=!1,D(e),!O)if(null!==x(T))O=!0,n(M);else{var t=x(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=N;try{for(D(n),A=x(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===x(T)&&E(T),D(n)}else E(T);A=x(T)}if(null!==A)var u=!0;else{var c=x(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,N=a,R=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(C,e),null===x(T)&&e===x(C)&&(P?i():P=!0,r(L,o-s))):(e.sortIndex=u,_(T,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},191:function(e){var t="undefined"!==typeof process&&process.pid?process.pid.toString(36):"";function n(){var e=Date.now(),t=n.last||e;return n.last=e>t?e:t+1}e.exports=e.exports.default=function(e,r){return(e||"")+""+t+n().toString(36)+(r||"")},e.exports.process=function(e,r){return(e||"")+t+n().toString(36)+(r||"")},e.exports.time=function(e,t){return(e||"")+n().toString(36)+(t||"")}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e,t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function f(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t){if(!e)throw new Error(t)}var y=(0,t.createContext)(null);var g=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function b(e){m(!1)}function w(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;E()&&m(!1);var d=F(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=v(s));var k=s,b=k.pathname,w=void 0===b?"/":b,_=k.search,x=void 0===_?"":_,S=k.hash,T=void 0===S?"":S,C=k.state,I=void 0===C?null:C,A=k.key,N=void 0===A?"default":A,R=(0,t.useMemo)((function(){var e=U(w,d);return null==e?null:{pathname:e,search:x,hash:T,state:I,key:N}}),[d,w,x,T,I,N]);return null==R?null:(0,t.createElement)(y.Provider,{value:p},(0,t.createElement)(g.Provider,{children:o,value:{location:R,navigationType:c}}))}function _(e){var n=e.children,r=e.location;return function(e,n){E()||m(!1);var r=(0,t.useContext)(k).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=S();if(n){var c,l="string"===typeof n?v(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||m(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=A(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=P(i[o],r);return a}(e,{pathname:h});0;return D(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:j([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:j([o,e.pathnameBase])})})),r)}(I(n),r)}function x(e){E()||m(!1);var n=(0,t.useContext)(y),r=n.basename,i=n.navigator,a=C(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):j([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function E(){return null!=(0,t.useContext)(g)}function S(){return E()||m(!1),(0,t.useContext)(g).location}function T(){E()||m(!1);var e=(0,t.useContext)(y),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=S().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=M(e,JSON.parse(o),a);"/"!==n&&(i.pathname=j([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function C(e){var n=(0,t.useContext)(k).matches,r=S().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return M(e,JSON.parse(i),r)}),[e,i,r])}function I(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==b&&m(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=I(e.props.children)),n.push(r)}else n.push.apply(n,I(e.props.children))})),n}function A(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||m(!1),a.relativePath=a.relativePath.slice(r.length));var o=j([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&m(!1),A(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:s})})),t}var N=/^:\w+$/,R=function(e){return"*"===e};function O(e,t){var n=e.split("/"),r=n.length;return n.some(R)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!R(e)})).reduce((function(e,t){return e+(N.test(t)?3:""===t?1:10)}),r)}function P(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=L({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:j([i,l.pathname]),pathnameBase:F(j([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=j([i,l.pathnameBase]))}return a}function D(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:c,pattern:e}}function M(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:V(a),hash:B(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var j=function(e){return e.join("/").replace(/\/\/+/g,"/")},F=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},V=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},B=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function H(n){var r=n.basename,i=n.children,a=n.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,u({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(l,(function(){if(o)w.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=g-r;s&&(o={action:t,location:i,retry:function(){C(-1*s)}},C(s))}}else T(t)}}));var m=e.Pop,y=a(),g=y[0],k=y[1],b=h(),w=h();function _(e){return"string"===typeof e?e:p(e)}function x(e,t){return void 0===t&&(t=null),u(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function S(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){m=e;var t=a();g=t[0],k=t[1],b.call({action:m,location:k})}function C(e){i.go(e)}null==g&&(g=0,i.replaceState(s({},i.state,{idx:g}),""));var I={get action(){return m},get location(){return k},createHref:_,push:function t(n,a){var o=e.Push,s=x(n,a);if(S(o,s,(function(){t(n,a)}))){var u=E(s,g+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function t(n,r){var a=e.Replace,o=x(n,r);if(S(a,o,(function(){t(n,r)}))){var s=E(o,g),u=s[0],c=s[1];i.replaceState(u,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,f),function(){t(),w.length||r.removeEventListener(c,f)}}};return I}({window:a}));var y=m.current,g=o((0,t.useState)({action:y.action,location:y.location}),2),k=g[0],b=g[1];return(0,t.useLayoutEffect)((function(){return y.listen(b)}),[y]),(0,t.createElement)(w,{basename:r,children:i,location:k.location,navigationType:k.action,navigator:y})}var W=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=q(e,K),f=x(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=T(),u=S(),c=C(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||p(u)===p(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",z({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var G=n(184);var $=function(){var e=T(),n=S();return(0,t.useEffect)((function(){console.log("Invalid location",n),console.log("Forced re-direct"),e("/discord-clone/server/@me")}),[]),(0,G.jsx)("div",{className:"fallback",children:"Re-directing..."})};function Q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var X=n(441),Y=n(613),J=n.n(Y);var Z=function(e){function t(e,r,u,c,h){for(var d,p,v,m,b,_=0,x=0,E=0,S=0,T=0,O=0,D=v=d=0,M=0,U=0,j=0,F=0,V=u.length,B=V-1,z="",q="",K="",H="";M<V;){if(p=u.charCodeAt(M),M===B&&0!==x+S+E+_&&(0!==x&&(p=47===x?10:47),S=E=_=0,V++,B++),0===x+S+E+_){if(M===B&&(0<U&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,F=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(F,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<U&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:U=r;break;default:U=R}if(F=(v=t(r,U,v,p,h+1)).length,0<P&&(b=s(3,v,U=n(R,z,j),r,I,C,F,p,h,c),z=U.join(""),void 0!==b&&0===(F=(v=b.trim()).length)&&(p=0,v="")),0<F)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,j),v,c,h+1);K+=v,v=j=U=D=d=0,z="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(F=(z=(0<U?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(F=(z=z.replace(" ",":")).length),0<P&&void 0!==(b=s(1,z,r,e,I,C,q.length,c,h,c))&&0===(F=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=z+u.charAt(M);break}default:58!==z.charCodeAt(F-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}j=U=D=d=0,z="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<z.length&&(U=1,z+="\0"),0<P*L&&s(0,z,r,e,I,C,q.length,c,h,c),C=1,I++;break;case 59:case 125:if(0===x+S+E+_){C++;break}default:switch(C++,m=u.charAt(M),p){case 9:case 32:if(0===S+_+x)switch(T){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+x+_&&(U=j=1,m="\f"+m);break;case 108:if(0===S+x+_+A&&0<D)switch(M-D){case 2:112===T&&58===u.charCodeAt(M-3)&&(A=T);case 8:111===O&&(A=O)}break;case 58:0===S+x+_&&(D=M);break;case 44:0===x+E+S+_&&(U=1,m+="\r");break;case 34:case 39:0===x&&(S=S===p?0:0===S?p:S);break;case 91:0===S+x+E&&_++;break;case 93:0===S+x+E&&_--;break;case 41:0===S+x+_&&E--;break;case 40:if(0===S+x+_){if(0===d)if(2*T+3*O===533);else d=1;E++}break;case 64:0===x+E+S+_+D+v&&(v=1);break;case 42:case 47:if(!(0<S+_+E))switch(x){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:x=47;break;case 220:F=M,x=42}break;case 42:47===p&&42===T&&F+2!==M&&(33===u.charCodeAt(F+2)&&(q+=u.substring(F,M+1)),m="",x=0)}}0===x&&(z+=m)}O=T,T=p,M++}if(0<(F=q.length)){if(U=r,0<P&&(void 0!==(b=s(2,q,U,e,I,C,F,c,h,c))&&0===(q=b).length))return H+q+K;if(q=U.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return H+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===N||2===N&&a(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<P;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=s(-1,n,r,r,I,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<P&&(void 0!==(i=s(-2,a,r,r,I,C,a.length,0,0,0))&&(a=i)),"",A=0,C=I=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,C=1,I=1,A=0,N=1,R=[],O=[],P=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=O.length=0;break;default:if("function"===typeof t)O[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},ee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var te=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,re=te((function(e){return ne.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),ie=n(110),ae=n.n(ie);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var se=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ue=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,X.typeOf)(e)},ce=Object.freeze([]),le=Object.freeze({});function fe(e){return"function"==typeof e}function he(e){return e.displayName||e.name||"Component"}function de(e){return e&&"string"==typeof e.styledComponentId}var pe="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",ve="undefined"!=typeof window&&"HTMLElement"in window,me=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/discord-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var ge=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&ye(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),ke=new Map,be=new Map,we=1,_e=function(e){if(ke.has(e))return ke.get(e);for(;be.has(we);)we++;var t=we++;return ke.set(e,t),be.set(t,e),t},xe=function(e){return be.get(e)},Ee=function(e,t){t>=we&&(we=t+1),ke.set(e,t),be.set(t,e)},Se="style["+pe+'][data-styled-version="5.3.3"]',Te=new RegExp("^"+pe+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ce=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ie=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(Te);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Ee(c,u),Ce(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},Ae=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Ne=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(pe))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(pe,"active"),r.setAttribute("data-styled-version","5.3.3");var o=Ae();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Re=function(){function e(e){var t=this.element=Ne(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}ye(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Oe=function(){function e(e){var t=this.element=Ne(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Pe=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),De=ve,Le={isServer:!ve,useCSSOMInjection:!me},Me=function(){function e(e,t,n){void 0===e&&(e=le),void 0===t&&(t={}),this.options=oe({},Le,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ve&&De&&(De=!1,function(e){for(var t=document.querySelectorAll(Se),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(pe)&&(Ie(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return _e(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(oe({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Pe(i):r?new Re(i):new Oe(i),new ge(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(_e(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(_e(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(_e(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=xe(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=pe+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Ue=/(a)(d)/gi,je=function(e){return String.fromCharCode(e+(e>25?39:97))};function Fe(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=je(t%52)+n;return(je(t%52)+n).replace(Ue,"$1-$2")}var Ve=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Be=function(e){return Ve(5381,e)};function ze(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(fe(n)&&!de(n))return!1}return!0}var qe=Be("5.3.3"),Ke=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&ze(e),this.componentId=t,this.baseHash=Ve(qe,t),this.baseStyle=n,Me.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ut(this.rules,e,t,n).join(""),o=Fe(Ve(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=Ve(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=ut(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Ve(c,p+f),l+=p}}if(l){var v=Fe(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),He=/^\s*\/\/.*$/gm,We=[":","[",".","#"];function Ge(e){var t,n,r,i,a=void 0===e?le:e,o=a.options,s=void 0===o?le:o,u=a.plugins,c=void 0===u?ce:u,l=new Z(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==We.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(He,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||ye(15),Ve(e,t.name)}),5381).toString():"",p}var $e=t.createContext(),Qe=($e.Consumer,t.createContext()),Xe=(Qe.Consumer,new Me),Ye=Ge();function Je(){return(0,t.useContext)($e)||Xe}function Ze(){return(0,t.useContext)(Qe)||Ye}function et(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Je(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return Ge({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){J()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement($e.Provider,{value:o},t.createElement(Qe.Provider,{value:s},e.children))}var tt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ye);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return ye(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Ye),this.name+e.hash},e}(),nt=/([A-Z])/,rt=/([A-Z])/g,it=/^ms-/,at=function(e){return"-"+e.toLowerCase()};function ot(e){return nt.test(e)?e.replace(rt,at).replace(it,"-ms-"):e}var st=function(e){return null==e||!1===e||""===e};function ut(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ut(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return st(e)?"":de(e)?"."+e.styledComponentId:fe(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ut(e(t),t,n,r):e instanceof tt?n?(e.inject(n,r),e.getName(r)):e:ue(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!st(t[o])&&(Array.isArray(t[o])&&t[o].isCss||fe(t[o])?a.push(ot(o)+":",t[o],";"):ue(t[o])?a.push.apply(a,e(t[o],o)):a.push(ot(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in ee?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var ct=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fe(e)||ue(e)?ct(ut(se(ce,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ct(ut(se(e,n)))}new Set;var ft=function(e,t,n){return void 0===n&&(n=le),e.theme!==n.theme&&e.theme||t||n.theme},ht=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dt=/(^-|-$)/g;function pt(e){return e.replace(ht,"-").replace(dt,"")}var vt=function(e){return Fe(Be(e)>>>0)};function mt(e){return"string"==typeof e&&!0}var yt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},gt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function kt(e,t,n){var r=e[n];yt(t)&&yt(r)?bt(r,t):e[n]=t}function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(yt(o))for(var s in o)gt(s)&&kt(e,o[s],s)}return e}var wt=t.createContext();wt.Consumer;var _t={};function xt(e,n,r){var i=de(e),a=!mt(e),o=n.attrs,s=void 0===o?ce:o,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":pt(e);_t[n]=(_t[n]||0)+1;var r=n+"-"+vt("5.3.3"+n+_t[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return mt(e)?"styled."+e:"Styled("+he(e)+")"}(e):l,h=n.displayName&&n.componentId?pt(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new Ke(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=le);var r=oe({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in fe(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(ft(n,(0,t.useContext)(wt),s)||le,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Je(),a=Ze();return t?e.generateAndInjectStyles(le,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=mt(y),k=p!==n?oe({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,re,y):!g||re(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=oe({},n.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,t.createElement)(y,b)}(v,e,n,y)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ce,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(mt(e)?e:pt(he(e)));return xt(e,oe({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?bt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&ae()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Et=function(e){return function e(t,n,r){if(void 0===r&&(r=le),!(0,X.isValidElementType)(n))return ye(1,String(n));var i=function(){return t(n,r,lt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,oe({},r,{},i))},i.attrs=function(i){return e(t,n,oe({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(xt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Et[e]=Et(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ze(e),Me.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ut(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Me.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Ae();return"<style "+[n&&'nonce="'+n+'"',pe+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?ye(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return ye(2);var r=((n={})[pe]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Ae();return i&&(r.nonce=i),[t.createElement("style",oe({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Me({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?ye(2):t.createElement(et,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return ye(3)}}();var St,Tt,Ct,It,At,Nt=Et,Rt={FormBox:Nt.div(St||(St=Q(["{\n  background-color: #363940;\n  color: #9c9fa6;\n  margin: 20px 20px;\n  padding: 10px 40px;\n  width: 400px;\n}"]))),FormH1:Nt.h1(Tt||(Tt=Q(["{\n  color: white;\n}"]))),LabelWrapper:Nt.div(Ct||(Ct=Q(["{\n  display: flex;\n  flex-direction: column;\n  margin: 5px;\n  gap: 5px;\n}"]))),InputWrapper:Nt.div(It||(It=Q(["{\n  display: flex;\n}"]))),FormInput:Nt.input(At||(At=Q(["{\n  width: 100%;\n}"])))};function Ot(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ot(a,r,i,o,s,"next",e)}function s(e){Ot(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Dt=n(757),Lt=n.n(Dt);function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}function Ut(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mt(e)););return e}function jt(){return jt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ut(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jt.apply(this,arguments)}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e,t){return Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vt(e,t)}function Bt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}function zt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Kt(e,t){if(t&&("object"===qt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Ht(e){var t=zt();return function(){var n,r=Mt(e);if(t){var i=Mt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kt(this,n)}}function Wt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xt(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t,n){return Jt=zt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Vt(i,n.prototype),i},Jt.apply(null,arguments)}function Zt(e){var t="function"===typeof Map?new Map:void 0;return Zt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Jt(e,arguments,Mt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Vt(n,e)},Zt(e)}var en=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(en(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nn=function(e){return function(e){var t=en(e);return tn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},rn=function(e){try{return tn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var an=function(){function e(){var t=this;Gt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Qt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function on(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function sn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function un(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function cn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ln(){var e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var fn=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ft(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ft(a),hn.prototype.create),a}return Qt(n)}(Zt(Error)),hn=function(){function e(t,n,r){Gt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Qt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?dn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new fn(n,a,t);return o}}]),e}();function dn(e,t){return e.replace(pn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var pn=/\{\$([^}]+)}/g;function vn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(mn(s)&&mn(u)){if(!vn(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function mn(e){return null!==e&&"object"===typeof e}function yn(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function gn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function kn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var bn=function(){function e(t,n){var r=this;Gt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Qt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Wt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=wn),void 0===r.error&&(r.error=wn),void 0===r.complete&&(r.complete=wn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function wn(){}function _n(e){return e&&e._delegate?e._delegate:e}function xn(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var En=function(){function e(t){Gt(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Qt(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new Sn(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Tn(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Sn=function(){function e(t){var n=this;Gt(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Qt(e,[{key:"objectStore",value:function(e){return new Tn(this._transaction.objectStore(e))}}]),e}(),Tn=function(){function e(t){Gt(this,e),this._store=t}return Qt(e,[{key:"index",value:function(e){return new Cn(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Cn(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return xn(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return xn(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return xn(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return xn(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Cn=function(){function e(t){Gt(this,e),this._index=t}return Qt(e,[{key:"get",value:function(e){return xn(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var In=function(){function e(t,n,r){Gt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Qt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),An="[DEFAULT]",Nn=function(){function e(t,n){Gt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Qt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new an;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:An})}catch(c){}var t,n=Wt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Pt(Dt.mark((function e(){var t;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Xt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Xt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Wt(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Sg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===An?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Sg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An;return this.component?this.component.multipleInstances?e:An:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Rn,On,Pn=function(){function e(t){Gt(this,e),this.name=t,this.providers=new Map}return Qt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Nn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Dn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(On||(On={}));var Ln,Mn,Un={debug:On.DEBUG,verbose:On.VERBOSE,info:On.INFO,warn:On.WARN,error:On.ERROR,silent:On.SILENT},jn=On.INFO,Fn=(Yt(Rn={},On.DEBUG,"log"),Yt(Rn,On.VERBOSE,"log"),Yt(Rn,On.INFO,"info"),Yt(Rn,On.WARN,"warn"),Yt(Rn,On.ERROR,"error"),Rn),Vn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Fn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Bn=function(){function e(t){Gt(this,e),this.name=t,this._logLevel=jn,this._logHandler=Vn,this._userLogHandler=null,Dn.push(this)}return Qt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in On))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Un[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,On.DEBUG].concat(t)),this._logHandler.apply(this,[this,On.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,On.VERBOSE].concat(t)),this._logHandler.apply(this,[this,On.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,On.INFO].concat(t)),this._logHandler.apply(this,[this,On.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,On.WARN].concat(t)),this._logHandler.apply(this,[this,On.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,On.ERROR].concat(t)),this._logHandler.apply(this,[this,On.ERROR].concat(t))}}]),e}();var zn=function(){function e(t){Gt(this,e),this.container=t}return Qt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var qn="@firebase/app",Kn="0.7.22",Hn=new Bn("@firebase/app"),Wn="[DEFAULT]",Gn=(Yt(Ln={},qn,"fire-core"),Yt(Ln,"@firebase/app-compat","fire-core-compat"),Yt(Ln,"@firebase/analytics","fire-analytics"),Yt(Ln,"@firebase/analytics-compat","fire-analytics-compat"),Yt(Ln,"@firebase/app-check","fire-app-check"),Yt(Ln,"@firebase/app-check-compat","fire-app-check-compat"),Yt(Ln,"@firebase/auth","fire-auth"),Yt(Ln,"@firebase/auth-compat","fire-auth-compat"),Yt(Ln,"@firebase/database","fire-rtdb"),Yt(Ln,"@firebase/database-compat","fire-rtdb-compat"),Yt(Ln,"@firebase/functions","fire-fn"),Yt(Ln,"@firebase/functions-compat","fire-fn-compat"),Yt(Ln,"@firebase/installations","fire-iid"),Yt(Ln,"@firebase/installations-compat","fire-iid-compat"),Yt(Ln,"@firebase/messaging","fire-fcm"),Yt(Ln,"@firebase/messaging-compat","fire-fcm-compat"),Yt(Ln,"@firebase/performance","fire-perf"),Yt(Ln,"@firebase/performance-compat","fire-perf-compat"),Yt(Ln,"@firebase/remote-config","fire-rc"),Yt(Ln,"@firebase/remote-config-compat","fire-rc-compat"),Yt(Ln,"@firebase/storage","fire-gcs"),Yt(Ln,"@firebase/storage-compat","fire-gcs-compat"),Yt(Ln,"@firebase/firestore","fire-fst"),Yt(Ln,"@firebase/firestore-compat","fire-fst-compat"),Yt(Ln,"fire-js","fire-js"),Yt(Ln,"firebase","fire-js-all"),Ln),$n=new Map,Qn=new Map;function Xn(e,t){try{e.container.addComponent(t)}catch(n){Hn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Yn(e){var t=e.name;if(Qn.has(t))return Hn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Qn.set(t,e);var n,r=Wt($n.values());try{for(r.s();!(n=r.n()).done;){Xn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Jn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Zn=(Yt(Mn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Yt(Mn,"bad-app-name","Illegal App name: '{$appName}"),Yt(Mn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Yt(Mn,"app-deleted","Firebase App named '{$appName}' already deleted"),Yt(Mn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Yt(Mn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Yt(Mn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Yt(Mn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Yt(Mn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Yt(Mn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Mn),er=new hn("app","Firebase",Zn),tr=function(){function e(t,n,r){var i=this;Gt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",(function(){return i}),"PUBLIC"))}return Qt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}]),e}(),nr="9.7.0";function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=$n.get(e);if(!t)throw er.create("no-app",{appName:e});return t}function ir(e,t,n){var r,i=null!==(r=Gn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Hn.warn(s.join(" "))}Yn(new In("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var ar="firebase-heartbeat-store",or=null;function sr(){var e,t,n;return or||(or=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(ar)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new En(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new En(a.result),e.oldVersion,e.newVersion,new Sn(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw er.create("storage-open",{originalErrorMessage:e.message})}))),or}function ur(e){return cr.apply(this,arguments)}function cr(){return cr=Pt(Dt.mark((function e(t){var n;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sr();case 3:return n=e.sent,e.abrupt("return",n.transaction(ar).objectStore(ar).get(hr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),er.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),cr.apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return fr=Pt(Dt.mark((function e(t,n){var r,i,a;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sr();case 3:return r=e.sent,i=r.transaction(ar,"readwrite"),a=i.objectStore(ar),e.next=8,a.put(n,hr(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),er.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),fr.apply(this,arguments)}function hr(e){return"".concat(e.name,"!").concat(e.options.appId)}var dr=function(){function e(t){var n=this;Gt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new yr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Qt(e,[{key:"triggerHeartbeat",value:function(){var e=Pt(Dt.mark((function e(){var t,n,r;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=pr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Pt(Dt.mark((function e(){var t,n,r,i,a;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=pr(),n=vr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=nn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pr(){return(new Date).toISOString().substring(0,10)}function vr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Wt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),gr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),gr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var mr,yr=function(){function e(t){Gt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Qt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Pt(Dt.mark((function e(){return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Pt(Dt.mark((function e(){var t;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ur(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Pt(Dt.mark((function e(t){var n,r;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Pt(Dt.mark((function e(t){var n,r;return Dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Xt(r.heartbeats),Xt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function gr(e){return nn(JSON.stringify({version:2,heartbeats:e})).length}mr="",Yn(new In("platform-logger",(function(e){return new zn(e)}),"PRIVATE")),Yn(new In("heartbeat",(function(e){return new dr(e)}),"PRIVATE")),ir(qn,Kn,mr),ir(qn,Kn,"esm2017"),ir("fire-js","");function kr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var br;Object.create;function wr(){return Yt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var _r=wr,xr=new hn("auth","Firebase",wr()),Er=new Bn("@firebase/auth");function Sr(e){if(Er.logLevel<=On.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.error.apply(Er,["Auth (".concat(nr,"): ").concat(e)].concat(n))}}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ar.apply(void 0,[e].concat(n))}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ar.apply(void 0,[e].concat(n))}function Ir(e,t,n){var r=Object.assign(Object.assign({},_r()),Yt({},t,n));return new hn("auth","Firebase",r).create(t,{appName:e.name})}function Ar(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Xt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Xt(o)))}return xr.create.apply(xr,[e].concat(n))}function Nr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ar.apply(void 0,[t].concat(r))}}function Rr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Sr(t),new Error(t)}function Or(e,t){e||Rr(t)}var Pr=new Map;function Dr(e){Or(e instanceof Function,"Expected a class definition");var t=Pr.get(e);return t?(Or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pr.set(e,t),t)}function Lr(e,t){var n=Jn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(vn(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Tr(r,"already-initialized")}return n.initialize({options:t})}function Mr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ur(){return"http:"===jr()||"https:"===jr()}function jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Fr=function(){function e(t,n){Gt(this,e),this.shortDelay=t,this.longDelay=n,Or(n>t,"Short delay should be less than long delay!"),this.isMobile=sn()||cn()}return Qt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ur()||un()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Vr(e,t){Or(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Br=function(){function e(){Gt(this,e)}return Qt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),zr=(Yt(br={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Yt(br,"MISSING_CUSTOM_TOKEN","internal-error"),Yt(br,"INVALID_IDENTIFIER","invalid-email"),Yt(br,"MISSING_CONTINUE_URI","internal-error"),Yt(br,"INVALID_PASSWORD","wrong-password"),Yt(br,"MISSING_PASSWORD","internal-error"),Yt(br,"EMAIL_EXISTS","email-already-in-use"),Yt(br,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Yt(br,"INVALID_IDP_RESPONSE","invalid-credential"),Yt(br,"INVALID_PENDING_TOKEN","invalid-credential"),Yt(br,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Yt(br,"MISSING_REQ_TYPE","internal-error"),Yt(br,"EMAIL_NOT_FOUND","user-not-found"),Yt(br,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Yt(br,"EXPIRED_OOB_CODE","expired-action-code"),Yt(br,"INVALID_OOB_CODE","invalid-action-code"),Yt(br,"MISSING_OOB_CODE","internal-error"),Yt(br,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Yt(br,"INVALID_ID_TOKEN","invalid-user-token"),Yt(br,"TOKEN_EXPIRED","user-token-expired"),Yt(br,"USER_NOT_FOUND","user-token-expired"),Yt(br,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Yt(br,"INVALID_CODE","invalid-verification-code"),Yt(br,"INVALID_SESSION_INFO","invalid-verification-id"),Yt(br,"INVALID_TEMPORARY_PROOF","invalid-credential"),Yt(br,"MISSING_SESSION_INFO","missing-verification-id"),Yt(br,"SESSION_EXPIRED","code-expired"),Yt(br,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Yt(br,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Yt(br,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Yt(br,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Yt(br,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Yt(br,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Yt(br,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Yt(br,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Yt(br,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Yt(br,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Yt(br,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),br),qr=new Fr(3e4,6e4);function Kr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Hr(e,t,n,r){return Wr.apply(this,arguments)}function Wr(){return Wr=Pt(Lt().mark((function e(t,n,r,i){var a,o=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Gr(t,a,Pt(Lt().mark((function e(){var a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=yn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Br.fetch()(Yr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Gr(e,t,n){return $r.apply(this,arguments)}function $r(){return $r=Pt(Lt().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},zr),n),e.prev=2,a=new Jr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Zr(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Zr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Zr(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Ir(t,p,d);case 30:Tr(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof fn)){e.next=37;break}throw e.t0;case 37:Tr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),$r.apply(this,arguments)}function Qr(e,t,n,r){return Xr.apply(this,arguments)}function Xr(){return Xr=Pt(Lt().mark((function e(t,n,r,i){var a,o,s=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Hr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Tr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function Yr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Vr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Jr=function(){function e(t){var n=this;Gt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Cr(n.auth,"network-request-failed"))}),qr.get())}))}return Qt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Zr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Cr(e,t,r);return i.customData._tokenResponse=n,i}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ai(){return ai=Pt(Lt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=_n(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Nr((a=si(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ii(oi(a.auth_time)),issuedAtTime:ii(oi(a.iat)),expirationTime:ii(oi(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e){return 1e3*Number(e)}function si(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Sr("JWT malformed, contained fewer than 3 sections"),null;try{var a=rn(r);return a?JSON.parse(a):(Sr("Failed to decode base64 JWT payload"),null)}catch(s){return Sr("Caught error parsing JWT payload as JSON",s),null}}function ui(e,t){return ci.apply(this,arguments)}function ci(){return ci=Pt(Lt().mark((function e(t,n){var r=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof fn&&li(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ci.apply(this,arguments)}function li(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var fi=function(){function e(t){Gt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Qt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Pt(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),hi=function(){function e(t,n){Gt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Qt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function di(e){return pi.apply(this,arguments)}function pi(){return pi=Pt(Lt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ui(t,ni(r,{idToken:i}));case 6:Nr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?yi(o.providerUserInfo):[],u=mi(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(){return vi=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_n(t),e.next=3,di(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Xt(n),Xt(t))}function yi(e){return e.map((function(e){var t=e.providerId,n=kr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=Pt(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(t,{},Pt(Lt().mark((function e(){var r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Yr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Br.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=function(){function e(){Gt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Qt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Nr(e.idToken,"internal-error"),Nr("undefined"!==typeof e.idToken,"internal-error"),Nr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=si(e);return Nr(t,"internal-error"),Nr("undefined"!==typeof t.exp,"internal-error"),Nr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Pt(Lt().mark((function e(t){var n,r=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Nr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Pt(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Rr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Nr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Nr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Nr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function wi(e,t){Nr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _i=function(){function e(t){Gt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=kr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Xt(a.providerData):[],this.metadata=new hi(a.createdAt||void 0,a.lastLoginAt||void 0)}return Qt(e,[{key:"getIdToken",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Nr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ai.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return vi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Nr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Nr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Pt(Lt().mark((function e(t){var n,r,i=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,di(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Pt(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ui(this,ei(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Nr(k&&x,t,"internal-error");var E=bi.fromJSON(this.name,x);Nr("string"===typeof k,t,"internal-error"),wi(f,t.name),wi(h,t.name),Nr("boolean"===typeof b,t,"internal-error"),Nr("boolean"===typeof w,t,"internal-error"),wi(d,t.name),wi(p,t.name),wi(v,t.name),wi(m,t.name),wi(y,t.name),wi(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Pt(Lt().mark((function t(n,r){var i,a,o,s=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new bi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,di(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),xi=function(){function e(){Gt(this,e),this.type="NONE",this.storage={}}return Qt(e,[{key:"_isAvailable",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();xi.type="NONE";var Ei=xi;function Si(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ti=function(){function e(t,n,r){Gt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Si(this.userKey,a.apiKey,o),this.fullPersistenceKey=Si("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Qt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Pt(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_i._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Pt(Lt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Dr(Ei),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Dr(Ei),s=Si(i,n.config.apiKey,n.name),u=null,c=Wt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=_i._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ci(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ri(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ii(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pi(t))return"Blackberry";if(Di(t))return"Webos";if(Ai(t))return"Safari";if((t.includes("chrome/")||Ni(t))&&!t.includes("edge/"))return"Chrome";if(Oi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/firefox\//i.test(e)}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/crios\//i.test(e)}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/iemobile/i.test(e)}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/android/i.test(e)}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/blackberry/i.test(e)}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/webos/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/iphone|ipad|ipod/i.test(e)}function Mi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return Li(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ui(){return ln()&&10===document.documentMode}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return Li(e)||Oi(e)||Di(e)||Pi(e)||/windows phone/i.test(e)||Ri(e)}function Fi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ci(on());break;case"Worker":t="".concat(Ci(on()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nr,"/").concat(r)}var Vi=function(){function e(t,n,r){Gt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zi(this),this.idTokenSubscription=new zi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Qt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(Pt(Lt().mark((function r(){var i,a;return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ti.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Pt(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Pt(Lt().mark((function e(t){var n,r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Nr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,di(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?_n(t):null)&&Nr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Pt(Lt().mark((function e(t){var n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Nr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Pt(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Dr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new hn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Pt(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Nr(n=t&&Dr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ti.create(this,[Dr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Pt(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Pt(Lt().mark((function e(t){var n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Nr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Nr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Pt(Lt().mark((function e(){var t,n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bi(e){return _n(e)}var zi=function(){function e(t){var n=this;Gt(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new bn(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Qt(e,[{key:"next",get:function(){return Nr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var qi=function(){function e(t,n){Gt(this,e),this.providerId=t,this.signInMethod=n}return Qt(e,[{key:"toJSON",value:function(){return Rr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Rr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Rr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Rr("not implemented")}}]),e}();function Ki(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Wi(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPassword",Kr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function $i(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Xi(e,t){return Yi.apply(this,arguments)}function Yi(){return Yi=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}var Ji=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Gt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Qt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$i(t,{email:this._email,oobCode:this._password}));case 5:Tr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ki(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Tr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(qi);function Zi(e,t){return ea.apply(this,arguments)}function ea(){return ea=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithIdp",Kr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}var ta=function(e){Bt(n,e);var t=Ht(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Qt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=kr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(qi);function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:sendVerificationCode",Kr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(){return ia=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",Kr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(){return aa=Pt(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",Kr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Zr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}var oa=Yt({},"USER_NOT_FOUND","user-not-found");function sa(){return sa=Pt(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",Kr(t,r),oa));case 2:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}var ua=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Qt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ia.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return aa.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return sa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(qi);var ca=function(){function e(t){var n,r,i,a,o,s;Gt(this,e);var u=gn(kn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Nr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Qt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=gn(kn(e)).link,n=t?gn(kn(t)).deep_link_id:null,r=gn(kn(e)).deep_link_id;return(r?gn(kn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Sg){return null}}}]),e}();var la=function(){function e(){Gt(this,e),this.providerId=e.PROVIDER_ID}return Qt(e,null,[{key:"credential",value:function(e,t){return Ji._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ca.parseLink(t);return Nr(n,"argument-error"),Ji._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();la.PROVIDER_ID="password",la.EMAIL_PASSWORD_SIGN_IN_METHOD="password",la.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var fa=function(){function e(t){Gt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Qt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ha=function(e){Bt(n,e);var t=Ht(n);function n(){var e;return Gt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Qt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Xt(this.scopes)}}]),n}(fa),da=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.call(this,"facebook.com")}return Qt(n,null,[{key:"credential",value:function(e){return ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Sg){return null}}}]),n}(ha);da.FACEBOOK_SIGN_IN_METHOD="facebook.com",da.PROVIDER_ID="facebook.com";var pa=function(e){Bt(n,e);var t=Ht(n);function n(){var e;return Gt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Qt(n,null,[{key:"credential",value:function(e,t){return ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Sg){return null}}}]),n}(ha);pa.GOOGLE_SIGN_IN_METHOD="google.com",pa.PROVIDER_ID="google.com";var va=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.call(this,"github.com")}return Qt(n,null,[{key:"credential",value:function(e){return ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Sg){return null}}}]),n}(ha);va.GITHUB_SIGN_IN_METHOD="github.com",va.PROVIDER_ID="github.com";var ma=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.call(this,"twitter.com")}return Qt(n,null,[{key:"credential",value:function(e,t){return ta._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Sg){return null}}}]),n}(ha);function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signUp",Kr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}ma.TWITTER_SIGN_IN_METHOD="twitter.com",ma.PROVIDER_ID="twitter.com";var ka=function(){function e(t){Gt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Qt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Pt(Lt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_i._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ba(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Pt(Lt().mark((function t(n,r,i){var a;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ba(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ba(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var wa=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i,a){var o,s;return Gt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Ft(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Qt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(fn);function _a(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw wa._fromErrorAndOperation(e,n,t,r);throw n}))}function xa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=Pt(Lt().mark((function e(t,n){var r,i,a=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ui,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ka._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Sa(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=Pt(Lt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ui(t,_a(i,a,n,t),r);case 6:return Nr((o=e.sent).idToken,i,"internal-error"),Nr(s=si(o.idToken),i,"internal-error"),u=s.sub,Nr(t.uid===u,i,"user-mismatch"),e.abrupt("return",ka._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Tr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ta.apply(this,arguments)}function Ca(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=Pt(Lt().mark((function e(t,n){var r,i,a,o,s=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,_a(t,i,n);case 4:return a=e.sent,e.next=7,ka._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Aa(e,t){return Na.apply(this,arguments)}function Na(){return Na=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(Bi(t),n));case 1:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Ra(e,t,n){return Oa.apply(this,arguments)}function Oa(){return Oa=Pt(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bi(t),e.next=3,ya(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ka._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Pa(e,t){return Da.apply(this,arguments)}function Da(){return Da=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=Pt(Lt().mark((function e(t,n){var r,i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=_n(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ui(a,Pa(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Ua(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:start",Kr(e,t))}new WeakMap;var ja="__sak",Fa=function(){function e(t,n){Gt(this,e),this.storageRetriever=t,this.type=n}return Qt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ja,"1"),this.storage.removeItem(ja),Promise.resolve(!0)):Promise.resolve(!1)}catch(Sg){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Va=function(e){Bt(n,e);var t=Ht(n);function n(){var e;return Gt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=on();return Ai(e)||Li(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ji(),e._shouldAllowMigration=!0,e}return Qt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ui()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Pt(Lt().mark((function e(t,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(Mt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Lt().mark((function e(t){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(Mt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(Mt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Fa);Va.type="LOCAL";var Ba=Va,za=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Qt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Fa);za.type="SESSION";var qa=za;function Ka(e){return Promise.all(e.map(function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ha=function(){function e(t){Gt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Qt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Pt(Lt().mark((function e(t){var n,r,i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ka(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Wa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ha.receivers=[];var Ga=function(){function e(t){Gt(this,e),this.target=t,this.handlers=new Set}return Qt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Pt(Lt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Wa("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function $a(){return window}function Qa(){return"undefined"!==typeof $a().WorkerGlobalScope&&"function"===typeof $a().importScripts}function Xa(){return Ya.apply(this,arguments)}function Ya(){return(Ya=Pt(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ja(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Za="firebaseLocalStorageDb",eo="firebaseLocalStorage",to="fbase_key",no=function(){function e(t){Gt(this,e),this.request=t}return Qt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ro(e,t){return e.transaction([eo],t?"readwrite":"readonly").objectStore(eo)}function io(){var e=indexedDB.deleteDatabase(Za);return new no(e).toPromise()}function ao(){var e=indexedDB.open(Za,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(eo,{keyPath:to})}catch(r){n(r)}})),e.addEventListener("success",Pt(Lt().mark((function n(){var r;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(eo)){n.next=12;break}return r.close(),n.next=5,io();case 5:return n.t0=t,n.next=8,ao();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function oo(e,t,n){return so.apply(this,arguments)}function so(){return so=Pt(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ro(t,!0).put((Yt(i={},to,n),Yt(i,"value",r),i)),e.abrupt("return",new no(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function uo(e,t){return co.apply(this,arguments)}function co(){return co=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ro(t,!1).get(n),e.next=3,new no(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(e,t){var n=ro(e,!0).delete(t);return new no(n).toPromise()}var fo=function(){function e(){Gt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Qt(e,[{key:"_openDb",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ao();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Pt(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Pt(Lt().mark((function e(){var t=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ha._getInstance(Qa()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Pt(Lt().mark((function e(n,r){var i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Pt(Lt().mark((function e(){var t,n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ga(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ja()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Pt(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ao();case 5:return t=e.sent,e.next=8,oo(t,ja,"1");case 8:return e.next=10,lo(t,ja);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pt(Lt().mark((function e(t,n){var r=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return oo(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return uo(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Lt().mark((function e(t){var n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return lo(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Pt(Lt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ro(e,!1).getAll();return new no(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Wt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Pt(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();fo.type="LOCAL";var ho=fo;function po(e,t){return Hr(e,"POST","/v2/accounts/mfaSignIn:start",Kr(e,t))}function vo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Cr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function mo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}mo("rcb"),new Fr(3e4,6e4);var yo="recaptcha";function go(e,t,n){return ko.apply(this,arguments)}function ko(){return ko=Pt(Lt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Nr("string"===typeof a,t,"argument-error"),Nr(r.type===yo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Nr("enroll"===s.type,t,"internal-error"),e.next=13,Ua(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Nr("signin"===s.type,t,"internal-error"),Nr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,po(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,na(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ko.apply(this,arguments)}var bo=function(){function e(t){Gt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Bi(t)}return Qt(e,[{key:"verifyPhoneNumber",value:function(e,t){return go(this.auth,e,_n(t))}}],[{key:"credential",value:function(e,t){return ua._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ua._fromTokenResponse(n,r):null}}]),e}();function wo(e,t){return t?Dr(t):(Nr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bo.PROVIDER_ID="phone",bo.PHONE_SIGN_IN_METHOD="phone";var _o=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Qt(n,[{key:"_getIdTokenResponse",value:function(e){return Zi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(qi);function xo(e){return Ca(e.auth,new _o(e),e.bypassAuthState)}function Eo(e){var t=e.auth,n=e.user;return Nr(n,t,"internal-error"),Sa(n,new _o(e),e.bypassAuthState)}function So(e){return To.apply(this,arguments)}function To(){return To=Pt(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Nr(r=t.user,n,"internal-error"),e.abrupt("return",xa(r,new _o(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}var Co=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Gt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Qt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Pt(Lt().mark((function t(n,r){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Pt(Lt().mark((function e(t){var n,r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xo;case"linkViaPopup":case"linkViaRedirect":return So;case"reauthViaPopup":case"reauthViaRedirect":return Eo;default:Tr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Io=new Fr(2e3,1e4);var Ao=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i,a,o){var s;return Gt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Ft(s),s}return Qt(n,[{key:"executeNotNull",value:function(){var e=Pt(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Nr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pt(Lt().mark((function e(){var t,n=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(1===this.filter.length,"Popup operations only handle one event"),t=Wa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Cr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Cr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Cr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Io.get())}()}}]),n}(Co);Ao.currentPopupAction=null;var No=new Map,Ro=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Gt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Qt(n,[{key:"execute",value:function(){var e=Pt(Lt().mark((function e(){var t,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=No.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Oo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,jt(Mt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:No.set(this.auth._key(),t);case 21:return this.bypassAuthState||No.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Pt(Lt().mark((function e(t){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",jt(Mt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",jt(Mt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Co);function Oo(e,t){return Po.apply(this,arguments)}function Po(){return Po=Pt(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo(n),i=Do(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Do(e){return Dr(e._redirectPersistence)}function Lo(e){return Si("pendingRedirect",e.config.apiKey,e.name)}function Mo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=Pt(Lt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Bi(t),a=wo(i,n),o=new Ro(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}var jo=function(){function e(t){Gt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Qt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Vo(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Cr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Fo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Fo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Vo(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Bo(e){return zo.apply(this,arguments)}function zo(){return zo=Pt(Lt().mark((function e(t){var n,r=arguments;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Hr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}var qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ko=/^https?/;function Ho(){return Ho=Pt(Lt().mark((function e(t){var n,r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Bo(t);case 4:n=e.sent,r=n.authorizedDomains,i=Wt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Wo(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Tr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ho.apply(this,arguments)}function Wo(e){var t=Mr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ko.test(r))return!1;if(qo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Go=new Fr(3e4,6e4);function $o(){var e=$a().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Xt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Qo=null;function Xo(e){return Qo=Qo||function(e){return new Promise((function(t,n){var r,i,a;function o(){$o(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$o(),n(Cr(e,"network-request-failed"))},timeout:Go.get()})}if(null===(i=null===(r=$a().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=$a().gapi)||void 0===a?void 0:a.load)){var s=mo("iframefcb");return $a()[s]=function(){gapi.load?o():n(Cr(e,"network-request-failed"))},vo("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Qo=null,e}))}(e),Qo}var Yo=new Fr(5e3,15e3),Jo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function es(e){var t=e.config;Nr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Vr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:nr},i=Zo.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(yn(r).slice(1))}function ts(e){return ns.apply(this,arguments)}function ns(){return ns=Pt(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(t);case 2:return n=e.sent,Nr(r=$a().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:es(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jo,dontclear:!0},(function(e){return new Promise(function(){var n=Pt(Lt().mark((function n(r,i){var a,o,s;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){$a().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Cr(t,"network-request-failed"),o=$a().setTimeout((function(){i(a)}),Yo.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}var rs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},is="_blank",as="http://localhost",os=function(){function e(t){Gt(this,e),this.window=t,this.associatedEvent=null}return Qt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ss(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},rs),{width:r.toString(),height:i.toString(),top:a,left:s}),l=on().toLowerCase();n&&(u=Ni(l)?is:n),Ii(l)&&(t=t||as,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Mi(l)&&"_self"!==u)return us(t||"",u),new os(null);var h=window.open(t||"",u,f);Nr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new os(h)}function us(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var cs="__/auth/handler",ls="emulator/auth/handler";function fs(e,t,n,r,i,a){Nr(e.config.authDomain,e,"auth-domain-config-required"),Nr(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nr,eventId:i};if(t instanceof fa){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=o(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof ha){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(cs);return Vr(t,ls)}(e),"?").concat(yn(p).slice(1))}var hs="webStorageSupport",ds=function(){function e(){Gt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qa,this._completeRedirectFn=Mo}return Qt(e,[{key:"_openPopup",value:function(){var e=Pt(Lt().mark((function e(t,n,r,i){var a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=fs(t,n,r,Mr(),i),e.abrupt("return",ss(t,o,Wa()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pt(Lt().mark((function e(t,n,r,i){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=fs(t,n,r,Mr(),i),$a().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Or(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Pt(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(t);case 2:return n=e.sent,r=new jo(t),n.register("authEvent",(function(e){return Nr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(hs,{type:hs},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Tr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ho.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ji()||Ai()||Li()}}]),e}(),ps=ds,vs=function(){function e(t){Gt(this,e),this.factorId=t}return Qt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Rr("unexpected MultiFactorSessionType")}}}]),e}(),ms=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this,"phone")).credential=e,r}return Qt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Kr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Hr(e,"POST","/v2/accounts/mfaSignIn:finalize",Kr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(vs);(function(){function e(){Gt(this,e)}return Qt(e,null,[{key:"assertion",value:function(e){return ms._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var ys,gs="@firebase/auth",ks="0.19.12",bs=function(){function e(t){Gt(this,e),this.auth=t,this.internalListeners=new Map}return Qt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Nr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr(),t=Jn(e,"auth");return t.isInitialized()?t.getImmediate():Lr(e,{popupRedirectResolver:ps,persistence:[ho,Ba,qa]})}ys="Browser",Yn(new In("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Nr(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Nr(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:ys,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(ys)},i=new Vi(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Yn(new In("auth-internal",(function(e){return function(e){return new bs(e)}(Bi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ir(gs,ks,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ys)),ir(gs,ks,"esm2017");ir("firebase","9.7.0","app");var _s={apiKey:"AIzaSyCyXUoQ0uqQMCpnRBD18tHUr8zY20ZpMgM",authDomain:"discord-clone-73192.firebaseapp.com",projectId:"discord-clone-73192",storageBucket:"discord-clone-73192.appspot.com",messagingSenderId:"593345871716",appId:"1:593345871716:web:fdd7fe18d67e4919440471"},xs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Wn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw er.create("bad-app-name",{appName:String(i)});var a=$n.get(i);if(a){if(vn(e,a.options)&&vn(r,a.config))return a;throw er.create("duplicate-app",{appName:i})}var o,s=new Pn(i),u=Wt(Qn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new tr(e,r,s);return $n.set(i,l),l}(_s),Es={app:xs},Ss=ws(Es.app),Ts=Ss.currentUser;function Cs(){return Is.apply(this,arguments)}function Is(){return(Is=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ss=ws(Es.app),e.next=3,Ss.operations;case 3:return Ts=Ss.currentUser,e.abrupt("return",Ss.currentUser);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(){return(As=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ts||(Ts=Cs()),e.abrupt("return",Ts);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ns(){return(Ns=Pt(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,i=t.password,e.next=3,Ra(Ss,r,i);case 3:return a=e.sent,Ts=a.user,e.next=7,La(Ts,{displayName:t.username});case 7:n&&n({uid:Ts.uid,displayName:t.username});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rs={isSignedIn:function(){return As.apply(this,arguments)},signInUser:function(e,t,n){(function(e,t,n){return Aa(_n(e),la.credential(t,n))})(Ss,e,t).then((function(t){console.log("user signed in",e),Ts=t.user,n&&n(Ts)})).catch((function(e){var t=e.code,n=e.message;console.error(t,n)})),n&&n(Ts)},registerUser:function(e,t){return Ns.apply(this,arguments)},logoutUser:function(e){(function(e){return _n(e).signOut()})(Ss).then((function(){var t=Ts;Ts=null,e&&e(t)})).catch((function(e){var t=e.code,n=e.message;console.error(t,n)}))},getUserAuth:Cs},Os=Rt.FormBox,Ps=Rt.FormH1,Ds=Rt.LabelWrapper,Ls=Rt.InputWrapper,Ms=Rt.FormInput;var Us,js=function(){var e=T();return(0,G.jsxs)(Os,{children:[(0,G.jsx)(Ps,{children:"Welcome Back!"}),(0,G.jsx)("h2",{children:"We're so excited to see you again!"}),(0,G.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault();var n=t.target,r=n[0].value,i=n[1].value;Rs.signInUser(r,i,(function(){e("/discord-clone/server/@me")}))},children:[(0,G.jsx)("div",{className:"input-wrapper",children:(0,G.jsxs)(Ds,{children:[(0,G.jsx)("label",{htmlFor:"login-email",children:"EMAIL"}),(0,G.jsx)(Ls,{children:(0,G.jsx)(Ms,{name:"email",id:"login-email",type:"email",required:!0})})]})}),(0,G.jsx)("div",{className:"input-wrapper",children:(0,G.jsxs)(Ds,{children:[(0,G.jsx)("label",{htmlFor:"login-password",children:"PASSWORD"}),(0,G.jsx)(Ls,{children:(0,G.jsx)(Ms,{name:"password",id:"login-password",type:"password",required:!0})})]})}),(0,G.jsx)("button",{type:"submit",children:"Login"})]}),(0,G.jsxs)("div",{children:["Need an account?",(0,G.jsx)("a",{href:"./register",children:"Register"})]})]})},Fs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Vs={},Bs=Bs||{},zs=Fs||self;function qs(){}function Ks(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ws="closure_uid_"+(1e9*Math.random()>>>0),Gs=0;function $s(e,t,n){return e.call.apply(e.bind,arguments)}function Qs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xs(e,t,n){return(Xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$s:Qs).apply(null,arguments)}function Ys(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Js(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Zs(){this.s=this.s,this.o=this.o}var eu={};Zs.prototype.s=!1,Zs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ws)&&e[Ws]||(e[Ws]=++Gs)}(this);delete eu[e]}},Zs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},nu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ru(e){return Array.prototype.concat.apply([],arguments)}function iu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function au(e){return/^[\s\xa0]*$/.test(e)}var ou,su=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function uu(e,t){return-1!=e.indexOf(t)}function cu(e,t){return e<t?-1:e>t?1:0}e:{var lu=zs.navigator;if(lu){var fu=lu.userAgent;if(fu){ou=fu;break e}}ou=""}function hu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function du(e){var t={};for(var n in e)t[n]=e[n];return t}var pu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<pu.length;a++)n=pu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function mu(e){return mu[" "](e),e}mu[" "]=qs;var yu,gu=uu(ou,"Opera"),ku=uu(ou,"Trident")||uu(ou,"MSIE"),bu=uu(ou,"Edge"),wu=bu||ku,_u=uu(ou,"Gecko")&&!(uu(ou.toLowerCase(),"webkit")&&!uu(ou,"Edge"))&&!(uu(ou,"Trident")||uu(ou,"MSIE"))&&!uu(ou,"Edge"),xu=uu(ou.toLowerCase(),"webkit")&&!uu(ou,"Edge");function Eu(){var e=zs.document;return e?e.documentMode:void 0}e:{var Su="",Tu=function(){var e=ou;return _u?/rv:([^\);]+)(\)|;)/.exec(e):bu?/Edge\/([\d\.]+)/.exec(e):ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xu?/WebKit\/(\S+)/.exec(e):gu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tu&&(Su=Tu?Tu[1]:""),ku){var Cu=Eu();if(null!=Cu&&Cu>parseFloat(Su)){yu=String(Cu);break e}}yu=Su}var Iu,Au={};function Nu(){return function(e){var t=Au;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=su(String(yu)).split("."),n=su("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=cu(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||cu(0==a[2].length,0==o[2].length)||cu(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(zs.document&&ku){var Ru=Eu();Iu=Ru||(parseInt(yu,10)||void 0)}else Iu=void 0;var Ou=Iu,Pu=function(){if(!zs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{zs.addEventListener("test",qs,t),zs.removeEventListener("test",qs,t)}catch(n){}return e}();function Du(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Lu(e,t){if(Du.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_u){e:{try{mu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Mu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Lu.Z.h.call(this)}}Du.prototype.h=function(){this.defaultPrevented=!0},Js(Lu,Du);var Mu={2:"touch",3:"pen",4:"mouse"};Lu.prototype.h=function(){Lu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Uu="closure_listenable_"+(1e6*Math.random()|0),ju=0;function Fu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ju,this.ca=this.fa=!1}function Vu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Bu(e){this.src=e,this.g={},this.h=0}function zu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=tu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Vu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function qu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Bu.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=qu(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Fu(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ku="closure_lm_"+(1e6*Math.random()|0),Hu={};function Wu(e,t,n,r,i){if(r&&r.once)return $u(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wu(e,t[a],n,r,i);return null}return n=tc(n),e&&e[Uu]?e.N(t,n,Hs(r)?!!r.capture:!!r,i):Gu(e,t,n,!1,r,i)}function Gu(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Hs(i)?!!i.capture:!!i,s=Zu(e);if(s||(e[Ku]=s=new Bu(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ju;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $u(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$u(e,t[a],n,r,i);return null}return n=tc(n),e&&e[Uu]?e.O(t,n,Hs(r)?!!r.capture:!!r,i):Gu(e,t,n,!0,r,i)}function Qu(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Qu(e,t[a],n,r,i);else r=Hs(r)?!!r.capture:!!r,n=tc(n),e&&e[Uu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=qu(a=e.g[t],n,r,i))&&(Vu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Zu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qu(t,n,r,i)),(n=-1<e?t[e]:null)&&Xu(n))}function Xu(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Uu])zu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zu(t))?(zu(n,e),0==n.h&&(n.src=null,t[Ku]=null)):Vu(e)}}}function Yu(e){return e in Hu?Hu[e]:Hu[e]="on"+e}function Ju(e,t){if(e.ca)e=!0;else{t=new Lu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Xu(e),e=n.call(r,t)}return e}function Zu(e){return(e=e[Ku])instanceof Bu?e:null}var ec="__closure_events_fn_"+(1e9*Math.random()>>>0);function tc(e){return"function"===typeof e?e:(e[ec]||(e[ec]=function(t){return e.handleEvent(t)}),e[ec])}function nc(){Zs.call(this),this.i=new Bu(this),this.P=this,this.I=null}function rc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Du(t,e);else if(t instanceof Du)t.target=t.target||e;else{var i=t;vu(t=new Du(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ic(o,r,!0,t)&&i}if(i=ic(o=t.g=e,r,!0,t)&&i,i=ic(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ic(o=t.g=n[a],r,!1,t)&&i}function ic(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&zu(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Js(nc,Zs),nc.prototype[Uu]=!0,nc.prototype.removeEventListener=function(e,t,n,r){Qu(this,e,t,n,r)},nc.prototype.M=function(){if(nc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vu(n[r]);delete t.g[e],t.h--}}this.I=null},nc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},nc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ac=zs.JSON.stringify;function oc(){var e=pc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var sc,uc=function(){function e(){Gt(this,e),this.h=this.g=null}return Qt(e,[{key:"add",value:function(e,t){var n=cc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),cc=new(function(){function e(t,n){Gt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Qt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new lc}),(function(e){return e.reset()})),lc=function(){function e(){Gt(this,e),this.next=this.g=this.h=null}return Qt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function fc(e){zs.setTimeout((function(){throw e}),0)}function hc(e,t){sc||function(){var e=zs.Promise.resolve(void 0);sc=function(){e.then(vc)}}(),dc||(sc(),dc=!0),pc.add(e,t)}var dc=!1,pc=new uc;function vc(){for(var e;e=oc();){try{e.h.call(e.g)}catch(n){fc(n)}var t=cc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}dc=!1}function mc(e,t){nc.call(this),this.h=e||1,this.g=t||zs,this.j=Xs(this.kb,this),this.l=Date.now()}function yc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function gc(e,t,n){if("function"===typeof e)n&&(e=Xs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xs(e.handleEvent,e)}return 2147483647<Number(t)?-1:zs.setTimeout(e,t||0)}function kc(e){e.g=gc((function(){e.g=null,e.i&&(e.i=!1,kc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Js(mc,nc),(Us=mc.prototype).da=!1,Us.S=null,Us.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rc(this,"tick"),this.da&&(yc(this),this.start()))}},Us.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Us.M=function(){mc.Z.M.call(this),yc(this),delete this.g};var bc=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Qt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:kc(this)}},{key:"M",value:function(){jt(Mt(n.prototype),"M",this).call(this),this.g&&(zs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Zs);function wc(e){Zs.call(this),this.h=e,this.g={}}Js(wc,Zs);var _c=[];function xc(e,t,n,r){Array.isArray(n)||(n&&(_c[0]=n.toString()),n=_c);for(var i=0;i<n.length;i++){var a=Wu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ec(e){hu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Xu(e)}),e),e.g={}}function Sc(){this.g=!0}function Tc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ac(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}wc.prototype.M=function(){wc.Z.M.call(this),Ec(this)},wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sc.prototype.Aa=function(){this.g=!1},Sc.prototype.info=function(){};var Cc={},Ic=null;function Ac(){return Ic=Ic||new nc}function Nc(e){Du.call(this,Cc.Ma,e)}function Rc(e){var t=Ac();rc(t,new Nc(t,e))}function Oc(e,t){Du.call(this,Cc.STAT_EVENT,e),this.stat=t}function Pc(e){var t=Ac();rc(t,new Oc(t,e))}function Dc(e,t){Du.call(this,Cc.Na,e),this.size=t}function Lc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zs.setTimeout((function(){e()}),t)}Cc.Ma="serverreachability",Js(Nc,Du),Cc.STAT_EVENT="statevent",Js(Oc,Du),Cc.Na="timingevent",Js(Dc,Du);var Mc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Uc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jc(){}function Fc(e){return e.h||(e.h=e.i())}function Vc(){}jc.prototype.h=null;var Bc,zc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qc(){Du.call(this,"d")}function Kc(){Du.call(this,"c")}function Hc(){}function Wc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new wc(this),this.P=$c,e=wu?125:void 0,this.W=new mc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gc}function Gc(){this.i=null,this.g="",this.h=!1}Js(qc,Du),Js(Kc,Du),Js(Hc,jc),Hc.prototype.g=function(){return new XMLHttpRequest},Hc.prototype.i=function(){return{}},Bc=new Hc;var $c=45e3,Qc={},Xc={};function Yc(e,t,n){e.K=1,e.v=bl(pl(t)),e.s=n,e.U=!0,Jc(e,null)}function Jc(e,t){e.F=Date.now(),nl(e),e.A=pl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Pl(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Gc,e.g=Mf(e.l,n?t:null,!e.s),0<e.O&&(e.L=new bc(Xs(e.Ia,e,e.g),e.O)),xc(e.V,e.g,"readystatechange",e.gb),t=e.H?du(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Rc(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Zc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function el(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=tl(e,n))==Xc){4==t&&(e.o=4,Pc(14),i=!1),Tc(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qc){e.o=4,Pc(15),Tc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Tc(e.j,e.m,r,null),sl(e,r)}Zc(e)&&r!=Xc&&r!=Qc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),If(t),t.L=!0,Pc(11))):(Tc(e.j,e.m,n,"[Invalid Chunked Response]"),ol(e),al(e))}function tl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xc:(n=Number(t.substring(n,r)),isNaN(n)?Qc:(r+=1)+n>t.length?Xc:(t=t.substr(r,n),e.C=r+n,t))}function nl(e){e.Y=Date.now()+e.P,rl(e,e.P)}function rl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Lc(Xs(e.eb,e),t)}function il(e){e.B&&(zs.clearTimeout(e.B),e.B=null)}function al(e){0==e.l.G||e.I||Rf(e.l,e)}function ol(e){il(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,yc(e.W),Ec(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function sl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Bl(n.i,e)))if(n.I=e.N,!e.J&&Bl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Nf(n),kf(n)}Cf(n),Pc(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Lc(Xs(n.ab,n),6e3));if(1>=Vl(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Pf(n,11)}else if((e.J||n.g==e)&&Nf(n),!au(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(uu(l,"spdy")||uu(l,"quic")||uu(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(zl(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,kl(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Lf(r,r.H?r.la:null,r.W),d.J){ql(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(il(p),nl(p)),r.g=d}else Tf(r);0<n.l.length&&_f(n)}else"stop"!=a[0]&&"close"!=a[0]||Pf(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Pf(n,7):gf(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Rc(4)}catch(a){}}function ul(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ks(e)||"string"===typeof e)nu(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ks(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ks(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function cl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof cl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ll(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];fl(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)fl(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function fl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Us=Wc.prototype).setTimeout=function(e){this.P=e},Us.gb=function(e){e=e.target;var t=this.L;t&&3==df(e)?t.l():this.Ia(e)},Us.Ia=function(e){try{if(e==this.g)e:{var t=df(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||wu||this.g&&(this.h.h||this.g.ga()||pf(this.g)))){this.I||4!=t||7==n||Rc(8==n||0>=r?3:2),il(this);var i=this.g.ba();this.N=i;t:if(Zc(this)){var a=pf(this.g);e="";var o=a.length,s=4==df(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ol(this),al(this);var u="";break t}this.h.i=new zs.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!au(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Pc(12),ol(this),al(this);break e}Tc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sl(this,i)}this.U?(el(this,t,u),wu&&this.i&&3==t&&(xc(this.V,this.W,"tick",this.fb),this.W.start())):(Tc(this.j,this.m,u,null),sl(this,u)),4==t&&ol(this),this.i&&!this.I&&(4==t?Rf(this.l,this):(this.i=!1,nl(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Pc(12)):(this.o=0,Pc(13)),ol(this),al(this)}}}catch(t){}},Us.fb=function(){if(this.g){var e=df(this.g),t=this.g.ga();this.C<t.length&&(il(this),el(this,e,t),this.i&&4!=e&&nl(this))}},Us.cancel=function(){this.I=!0,ol(this)},Us.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Rc(3),Pc(17)),ol(this),this.o=2,al(this)):rl(this,this.Y-e)},(Us=cl.prototype).R=function(){ll(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Us.T=function(){return ll(this),this.g.concat()},Us.get=function(e,t){return fl(this.h,e)?this.h[e]:t},Us.set=function(e,t){fl(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Us.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var hl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof dl){this.g=void 0!==t?t:e.g,vl(this,e.j),this.s=e.s,ml(this,e.i),yl(this,e.m),this.l=e.l,t=e.h;var n=new Al;n.i=t.i,t.g&&(n.g=new cl(t.g),n.h=t.h),gl(this,n),this.o=e.o}else e&&(n=String(e).match(hl))?(this.g=!!t,vl(this,n[1]||"",!0),this.s=wl(n[2]||""),ml(this,n[3]||"",!0),yl(this,n[4]),this.l=wl(n[5]||"",!0),gl(this,n[6]||"",!0),this.o=wl(n[7]||"")):(this.g=!!t,this.h=new Al(null,this.g))}function pl(e){return new dl(e)}function vl(e,t,n){e.j=n?wl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ml(e,t,n){e.i=n?wl(t,!0):t}function yl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gl(e,t,n){t instanceof Al?(e.h=t,function(e,t){t&&!e.j&&(Nl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Rl(this,t),Pl(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=_l(t,Cl)),e.h=new Al(t,e.g))}function kl(e,t,n){e.h.set(t,n)}function bl(e){return kl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _l(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_l(t,El,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(_l(t,El,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(_l(n,"/"==n.charAt(0)?Tl:Sl,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_l(n,Il)),e.join("")};var El=/[#\/\?@]/g,Sl=/[#\?:]/g,Tl=/[#\?]/g,Cl=/[#\?@]/g,Il=/#/g;function Al(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nl(e){e.g||(e.g=new cl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Rl(e,t){Nl(e),t=Dl(e,t),fl(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,fl((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ll(e)))}function Ol(e,t){return Nl(e),t=Dl(e,t),fl(e.g.h,t)}function Pl(e,t,n){Rl(e,t),0<n.length&&(e.i=null,e.g.set(Dl(e,t),iu(n)),e.h+=n.length)}function Dl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Us=Al.prototype).add=function(e,t){Nl(this),this.i=null,e=Dl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Us.forEach=function(e,t){Nl(this),this.g.forEach((function(n,r){nu(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Us.T=function(){Nl(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Us.R=function(e){Nl(this);var t=[];if("string"===typeof e)Ol(this,e)&&(t=ru(t,this.g.get(Dl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ru(t,e[n])}return t},Us.set=function(e,t){return Nl(this),this.i=null,Ol(this,e=Dl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Us.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Us.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ll=Qt((function e(t,n){Gt(this,e),this.h=t,this.g=n}));function Ml(e){this.l=e||jl,zs.PerformanceNavigationTiming?e=0<(e=zs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zs.g&&zs.g.Ea&&zs.g.Ea()&&zs.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ul,jl=10;function Fl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vl(e){return e.h?1:e.g?e.g.size:0}function Bl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zl(e,t){e.g?e.g.add(t):e.h=t}function ql(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Kl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Wt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return iu(e.i)}function Hl(){}function Wl(){this.g=new Hl}function Gl(e,t,n){var r=n||"";try{ul(e,(function(e,n){var i=e;Hs(e)&&(i=ac(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $l(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ql(e){this.l=e.$b||null,this.j=e.ib||!1}function Xl(e,t){nc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Yl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ml.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Wt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Hl.prototype.stringify=function(e){return zs.JSON.stringify(e,void 0)},Hl.prototype.parse=function(e){return zs.JSON.parse(e,void 0)},Js(Ql,jc),Ql.prototype.g=function(){return new Xl(this.l,this.j)},Ql.prototype.i=(Ul={},function(){return Ul}),Js(Xl,nc);var Yl=0;function Jl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Zl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ef(e)}function ef(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Us=Xl.prototype).open=function(e,t){if(this.readyState!=Yl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ef(this)},Us.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||zs).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Us.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zl(this)),this.readyState=Yl},Us.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ef(this)),this.g&&(this.readyState=3,ef(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof zs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Us.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zl(this):ef(this),3==this.readyState&&Jl(this)}},Us.Ua=function(e){this.g&&(this.response=this.responseText=e,Zl(this))},Us.Ta=function(e){this.g&&(this.response=e,Zl(this))},Us.ha=function(){this.g&&Zl(this)},Us.setRequestHeader=function(e,t){this.v.append(e,t)},Us.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Us.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tf=zs.JSON.parse;function nf(e){nc.call(this),this.headers=new cl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rf,this.K=this.L=!1}Js(nf,nc);var rf="",af=/^https?$/i,of=["POST","PUT"];function sf(e){return"content-type"==e.toLowerCase()}function uf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cf(e),ff(e)}function cf(e){e.D||(e.D=!0,rc(e,"complete"),rc(e,"error"))}function lf(e){if(e.h&&"undefined"!=typeof Bs&&(!e.C[1]||4!=df(e)||2!=e.ba()))if(e.v&&4==df(e))gc(e.Fa,0,e);else if(rc(e,"readystatechange"),4==df(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(hl)[1]||null;if(!a&&zs.self&&zs.self.location){var o=zs.self.location.protocol;a=o.substr(0,o.length-1)}i=!af.test(a?a.toLowerCase():"")}t=i}if(t)rc(e,"complete"),rc(e,"success");else{e.m=6;try{var s=2<df(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",cf(e)}}finally{ff(e)}}}function ff(e,t){if(e.g){hf(e);var n=e.g,r=e.C[0]?qs:null;e.g=null,e.C=null,t||rc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function hf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(zs.clearTimeout(e.A),e.A=null)}function df(e){return e.g?e.g.readyState:0}function pf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case rf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(fe){return null}}function vf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return hu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):kl(e,t,n))}function mf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yf(e){this.za=0,this.l=[],this.h=new Sc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mf("baseRetryDelayMs",5e3,e),this.$a=mf("retryDelaySeedMs",1e4,e),this.Ya=mf("forwardChannelMaxRetries",2,e),this.ra=mf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ml(e&&e.concurrentRequestLimit),this.Ca=new Wl,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function gf(e){if(bf(e),3==e.G){var t=e.V++,n=pl(e.F);kl(n,"SID",e.J),kl(n,"RID",t),kl(n,"TYPE","terminate"),Ef(e,n),(t=new Wc(e,e.h,t,void 0)).K=2,t.v=bl(pl(n)),n=!1,zs.navigator&&zs.navigator.sendBeacon&&(n=zs.navigator.sendBeacon(t.v.toString(),"")),!n&&zs.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mf(t.l,null),t.g.ea(t.v)),t.F=Date.now(),nl(t)}Df(e)}function kf(e){e.g&&(If(e),e.g.cancel(),e.g=null)}function bf(e){kf(e),e.u&&(zs.clearTimeout(e.u),e.u=null),Nf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&zs.clearTimeout(e.m),e.m=null)}function wf(e,t){e.l.push(new Ll(e.Za++,t)),3==e.G&&_f(e)}function _f(e){Fl(e.i)||e.m||(e.m=!0,hc(e.Ha,e),e.C=0)}function xf(e,t){var n;n=t?t.m:e.V++;var r=pl(e.F);kl(r,"SID",e.J),kl(r,"RID",n),kl(r,"AID",e.U),Ef(e,r),e.o&&e.s&&vf(r,e.o,e.s),n=new Wc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Sf(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),zl(e.i,n),Yc(n,r,t)}function Ef(e,t){e.j&&ul({},(function(e,n){kl(t,n,e)}))}function Sf(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Xs(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Gl(l,o,"req"+c+"_")}catch(Se){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Tf(e){e.g||e.u||(e.Y=1,hc(e.Ga,e),e.A=0)}function Cf(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Lc(Xs(e.Ga,e),Of(e,e.A)),e.A++,!0)}function If(e){null!=e.B&&(zs.clearTimeout(e.B),e.B=null)}function Af(e){e.g=new Wc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=pl(e.oa);kl(t,"RID","rpc"),kl(t,"SID",e.J),kl(t,"CI",e.N?"0":"1"),kl(t,"AID",e.U),Ef(e,t),kl(t,"TYPE","xmlhttp"),e.o&&e.s&&vf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=bl(pl(t)),n.s=null,n.U=!0,Jc(n,e)}function Nf(e){null!=e.v&&(zs.clearTimeout(e.v),e.v=null)}function Rf(e,t){var n=null;if(e.g==t){Nf(e),If(e),e.g=null;var r=2}else{if(!Bl(e.i,t))return;n=t.D,ql(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;rc(r=Ac(),new Dc(r,n,t,i)),_f(e)}else Tf(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Vl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Lc(Xs(e.Ha,e,t),Of(e,e.C)),e.C++,!0))}(e,t)||2==r&&Cf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pf(e,5);break;case 4:Pf(e,10);break;case 3:Pf(e,6);break;default:Pf(e,2)}}function Of(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Pf(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Xs(e.jb,e);n||(n=new dl("//www.google.com/images/cleardot.gif"),zs.location&&"http"==zs.location.protocol||vl(n,"https"),bl(n)),function(e,t){var n=new Sc;if(zs.Image){var r=new Image;r.onload=Ys($l,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ys($l,n,r,"TestLoadImage: error",!1,t),r.onabort=Ys($l,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ys($l,n,r,"TestLoadImage: timeout",!1,t),zs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pc(2);e.G=0,e.j&&e.j.va(t),Df(e),bf(e)}function Df(e){e.G=0,e.I=-1,e.j&&(0==Kl(e.i).length&&0==e.l.length||(e.i.i.length=0,iu(e.l),e.l.length=0),e.j.ua())}function Lf(e,t,n){var r=function(e){return e instanceof dl?pl(e):new dl(e,void 0)}(n);if(""!=r.i)t&&ml(r,t+"."+r.i),yl(r,r.m);else{var i=zs.location;r=function(e,t,n,r){var i=new dl(null,void 0);return e&&vl(i,e),t&&ml(i,t),n&&yl(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&hu(e.aa,(function(e,t){kl(r,t,e)})),t=e.D,n=e.sa,t&&n&&kl(r,t,n),kl(r,"VER",e.ma),Ef(e,r),r}function Mf(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new nf(new Ql({ib:!0})):new nf(e.qa)).L=e.H,t}function Uf(){}function jf(){if(ku&&!(10<=Number(Ou)))throw Error("Environmental error: no available transport.")}function Ff(e,t){nc.call(this),this.g=new yf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!au(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!au(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new zf(this)}function Vf(e){qc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bf(){Kc.call(this),this.status=1}function zf(e){this.g=e}(Us=nf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bc.g(),this.C=this.u?Fc(this.u):Fc(Bc),this.g.onreadystatechange=Xs(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void uf(this,a)}e=n||"";var i=new cl(this.headers);r&&ul(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=sf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=zs.FormData&&e instanceof zs.FormData,!(0<=tu(of,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hf(this),0<this.B&&((this.K=function(e){return ku&&Nu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xs(this.pa,this)):this.A=gc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){uf(this,a)}},Us.pa=function(){"undefined"!=typeof Bs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rc(this,"timeout"),this.abort(8))},Us.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,rc(this,"complete"),rc(this,"abort"),ff(this))},Us.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ff(this,!0)),nf.Z.M.call(this)},Us.Fa=function(){this.s||(this.F||this.v||this.l?lf(this):this.cb())},Us.cb=function(){lf(this)},Us.ba=function(){try{return 2<df(this)?this.g.status:-1}catch(Ul){return-1}},Us.ga=function(){try{return this.g?this.g.responseText:""}catch(Ul){return""}},Us.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tf(t)}},Us.Da=function(){return this.m},Us.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Us=yf.prototype).ma=8,Us.G=1,Us.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(fe){}},Us.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Wc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?vu(n=du(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Sf(this,t,r),kl(i=pl(this.F),"RID",e),kl(i,"CVER",22),this.D&&kl(i,"X-HTTP-Session-Id",this.D),Ef(this,i),this.o&&n&&vf(i,this.o,n),zl(this.i,t),this.Ra&&kl(i,"TYPE","init"),this.ja?(kl(i,"$req",r),kl(i,"SID","null"),t.$=!0,Yc(t,i,null)):Yc(t,i,r),this.G=2}}else 3==this.G&&(e?xf(this,e):0==this.l.length||Fl(this.i)||xf(this))},Us.Ga=function(){if(this.u=null,Af(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Lc(Xs(this.bb,this),e)}},Us.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pc(10),kf(this),Af(this))},Us.ab=function(){null!=this.v&&(this.v=null,kf(this),Cf(this),Pc(19))},Us.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Pc(2)):(this.h.info("Failed to ping google.com"),Pc(1))},(Us=Uf.prototype).xa=function(){},Us.wa=function(){},Us.va=function(){},Us.ua=function(){},Us.Oa=function(){},jf.prototype.g=function(e,t){return new Ff(e,t)},Js(Ff,nc),Ff.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),hc(Xs(e.hb,e,t))),Pc(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Lf(e,null,e.W),_f(e)},Ff.prototype.close=function(){gf(this.g)},Ff.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,wf(this.g,t)}else this.v?((t={}).__data__=ac(e),wf(this.g,t)):wf(this.g,e)},Ff.prototype.M=function(){this.g.j=null,delete this.j,gf(this.g),delete this.g,Ff.Z.M.call(this)},Js(Vf,qc),Js(Bf,Kc),Js(zf,Uf),zf.prototype.xa=function(){rc(this.g,"a")},zf.prototype.wa=function(e){rc(this.g,new Vf(e))},zf.prototype.va=function(e){rc(this.g,new Bf(e))},zf.prototype.ua=function(){rc(this.g,"b")},jf.prototype.createWebChannel=jf.prototype.g,Ff.prototype.send=Ff.prototype.u,Ff.prototype.open=Ff.prototype.m,Ff.prototype.close=Ff.prototype.close,Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,Uc.COMPLETE="complete",Vc.EventType=zc,zc.OPEN="a",zc.CLOSE="b",zc.ERROR="c",zc.MESSAGE="d",nc.prototype.listen=nc.prototype.N,nf.prototype.listenOnce=nf.prototype.O,nf.prototype.getLastError=nf.prototype.La,nf.prototype.getLastErrorCode=nf.prototype.Da,nf.prototype.getStatus=nf.prototype.ba,nf.prototype.getResponseJson=nf.prototype.Qa,nf.prototype.getResponseText=nf.prototype.ga,nf.prototype.send=nf.prototype.ea;var qf=Vs.createWebChannelTransport=function(){return new jf},Kf=Vs.getStatEventTarget=function(){return Ac()},Hf=Vs.ErrorCode=Mc,Wf=Vs.EventType=Uc,Gf=Vs.Event=Cc,$f=Vs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qf=Vs.FetchXmlHttpFactory=Ql,Xf=Vs.WebChannel=Vc,Yf=Vs.XhrIo=nf,Jf="@firebase/firestore",Zf=function(){function e(t){Gt(this,e),this.uid=t}return Qt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Zf.UNAUTHENTICATED=new Zf(null),Zf.GOOGLE_CREDENTIALS=new Zf("google-credentials-uid"),Zf.FIRST_PARTY=new Zf("first-party-uid"),Zf.MOCK_USER=new Zf("mock-user");var eh="9.6.11",th=new Bn("@firebase/firestore");function nh(){return th.logLevel}function rh(e){if(th.logLevel<=On.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(oh);th.debug.apply(th,["Firestore (".concat(eh,"): ").concat(e)].concat(Xt(i)))}}function ih(e){if(th.logLevel<=On.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(oh);th.error.apply(th,["Firestore (".concat(eh,"): ").concat(e)].concat(Xt(i)))}}function ah(e){if(th.logLevel<=On.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(oh);th.warn.apply(th,["Firestore (".concat(eh,"): ").concat(e)].concat(Xt(i)))}}function oh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function sh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(eh,") INTERNAL ASSERTION FAILED: ")+e;throw ih(t),new Error(t)}function uh(e,t){e||sh()}function ch(e,t){return e}var lh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fh=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Qt(n)}(fn),hh=Qt((function e(){var t=this;Gt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),dh=Qt((function e(t,n){Gt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ph=function(){function e(){Gt(this,e)}return Qt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),vh=function(){function e(t){Gt(this,e),this.t=t,this.currentUser=Zf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Qt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new hh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new hh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){rh("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(rh("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(rh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(uh("string"==typeof n.accessToken),new dh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return uh(null===e||"string"==typeof e),new Zf(e)}}]),e}(),mh=Qt((function e(t,n,r){Gt(this,e),this.type="FirstParty",this.user=Zf.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),yh=function(){function e(t,n,r){Gt(this,e),this.h=t,this.l=n,this.m=r}return Qt(e,[{key:"getToken",value:function(){return Promise.resolve(new mh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),gh=Qt((function e(t){Gt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),kh=function(){function e(t){Gt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Qt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&rh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,rh("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){rh("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):rh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(uh("string"==typeof t.token),e.p=t.token,new gh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),bh=function(){function e(t,n){var r=this;Gt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Qt(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function wh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}bh.A=-1;var _h=function(){function e(){Gt(this,e)}return Qt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=wh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function xh(e,t){return e<t?-1:e>t?1:0}function Eh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Sh=function(){function e(t,n){if(Gt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new fh(lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fh(lh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fh(lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fh(lh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Qt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?xh(this.nanoseconds,e.nanoseconds):xh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Th=function(){function e(t){Gt(this,e),this.timestamp=t}return Qt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Sh(0,0))}},{key:"max",value:function(){return new e(new Sh(253402300799,999999999))}}]),e}();function Ch(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ih(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ah(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Nh=function(){function e(t,n,r){Gt(this,e),void 0===n?n=0:n>t.length&&sh(),void 0===r?r=t.length-n:r>t.length-n&&sh(),this.segments=t,this.offset=n,this.len=r}return Qt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rh=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new fh(lh.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Xt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nh),Oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ph=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Oh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new fh(lh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new fh(lh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new fh(lh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new fh(lh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nh),Dh=function(){function e(t){Gt(this,e),this.fields=t,t.sort(Ph.comparator)}return Qt(e,[{key:"covers",value:function(e){var t,n=Wt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Eh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Lh=function(e){function t(e){Gt(this,t),this.binaryString=e}return Qt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return xh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Lh.EMPTY_BYTE_STRING=new Lh("");var Mh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uh(e){if(uh(!!e),"string"==typeof e){var t=0,n=Mh.exec(e);if(uh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jh(e.seconds),nanos:jh(e.nanos)}}function jh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fh(e){return"string"==typeof e?Lh.fromBase64String(e):Lh.fromUint8Array(e)}function Vh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bh(e){var t=e.mapValue.fields.__previous_value__;return Vh(t)?Bh(t):t}function zh(e){var t=Uh(e.mapValue.fields.__local_write_time__.timestampValue);return new Sh(t.seconds,t.nanos)}var qh=Qt((function e(t,n,r,i,a,o,s,u){Gt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Kh=function(){function e(t,n){Gt(this,e),this.projectId=t,this.database=n||"(default)"}return Qt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Hh(e){return null==e}function Wh(e){return 0===e&&1/e==-1/0}function Gh(e){return"number"==typeof e&&Number.isInteger(e)&&!Wh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $h=function(){function e(t){Gt(this,e),this.path=t}return Qt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Rh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rh.fromString(t))}},{key:"fromName",value:function(t){return new e(Rh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Rh.emptyPath())}},{key:"comparator",value:function(e,t){return Rh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rh(t.slice()))}}]),e}();function Qh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vh(e)?4:cd(e)?9:10:sh()}function Xh(e,t){if(e===t)return!0;var n=Qh(e);if(n!==Qh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zh(e).isEqual(zh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Uh(e.timestampValue),r=Uh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fh(e.bytesValue).isEqual(Fh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jh(e.geoPointValue.latitude)===jh(t.geoPointValue.latitude)&&jh(e.geoPointValue.longitude)===jh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jh(e.integerValue)===jh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=jh(e.doubleValue),r=jh(t.doubleValue);return n===r?Wh(n)===Wh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Eh(e.arrayValue.values||[],t.arrayValue.values||[],Xh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ch(n)!==Ch(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xh(n[i],r[i])))return!1;return!0}(e,t);default:return sh()}}function Yh(e,t){return void 0!==(e.values||[]).find((function(e){return Xh(e,t)}))}function Jh(e,t){if(e===t)return 0;var n=Qh(e),r=Qh(t);if(n!==r)return xh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=jh(e.integerValue||e.doubleValue),r=jh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zh(e.timestampValue,t.timestampValue);case 4:return Zh(zh(e),zh(t));case 5:return xh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fh(e),r=Fh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=xh(n[i],r[i]);if(0!==a)return a}return xh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xh(jh(e.latitude),jh(t.latitude));return 0!==n?n:xh(jh(e.longitude),jh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Jh(n[i],r[i]);if(a)return a}return xh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=xh(r[o],a[o]);if(0!==s)return s;var u=Jh(n[r[o]],i[a[o]]);if(0!==u)return u}return xh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw sh()}}function Zh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xh(e,t);var n=Uh(e),r=Uh(t),i=xh(n.seconds,r.seconds);return 0!==i?i:xh(n.nanos,r.nanos)}function ed(e){return td(e)}function td(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Uh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$h.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Wt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=td(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Wt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(td(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):sh();var t,n}function nd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function rd(e){return!!e&&"integerValue"in e}function id(e){return!!e&&"arrayValue"in e}function ad(e){return!!e&&"nullValue"in e}function od(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sd(e){return!!e&&"mapValue"in e}function ud(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ih(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ud(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ud(e.arrayValue.values[r]);return n}return Object.assign({},e)}function cd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var ld=function(){function e(t){Gt(this,e),this.value=t}return Qt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!sd(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(t)}},{key:"setAll",value:function(e){var t=this,n=Ph.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ud(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Xh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];sd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ih(t,(function(t,n){return e[t]=n}));var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ud(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function fd(e){var t=[];return Ih(e.fields,(function(e,n){var r=new Ph([e]);if(sd(n)){var i=fd(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Wt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Dh(t)}var hd=function(){function e(t,n,r,i,a,o){Gt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Qt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ld.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ld.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Th.min(),Th.min(),ld.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Th.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Th.min(),ld.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Th.min(),ld.empty(),2)}}]),e}(),dd=Qt((function e(t,n,r,i){Gt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));dd.UNKNOWN_ID=-1;function pd(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Th.fromTimestamp(1e9===r?new Sh(n+1,0):new Sh(n,r));return new md(i,$h.empty(),t)}function vd(e){return new md(e.readTime,e.key,-1)}var md=function(){function e(t,n,r){Gt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Qt(e,null,[{key:"min",value:function(){return new e(Th.min(),$h.empty(),-1)}},{key:"max",value:function(){return new e(Th.max(),$h.empty(),-1)}}]),e}();function yd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=$h.comparator(e.documentKey,t.documentKey))?n:xh(e.largestBatchId,t.largestBatchId)}var gd=Qt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Gt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function kd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new gd(e,t,n,r,i,a,o)}function bd(e){var t=ch(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ed(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ed(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ed(e)})).join(",")),t.P=n}return t.P}function wd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Dd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Xh(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Md(e.startAt,t.startAt)&&Md(e.endAt,t.endAt)}function _d(e){return $h.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var xd=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Qt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Jh(t,this.value)):null!==t&&Qh(this.value)===Qh(t)&&this.v(Jh(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sh()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Ed(e,t,r):"array-contains"===t?new Id(e,r):"in"===t?new Ad(e,r):"not-in"===t?new Nd(e,r):"array-contains-any"===t?new Rd(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Sd(e,n):new Td(e,n)}}]),n}(function(){return Qt((function e(){Gt(this,e)}))}()),Ed=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,e,r,i)).key=$h.fromName(i.referenceValue),a}return Qt(n,[{key:"matches",value:function(e){var t=$h.comparator(e.key,this.key);return this.v(t)}}]),n}(xd),Sd=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,"in",r)).keys=Cd("in",r),i}return Qt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xd),Td=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,e,"not-in",r)).keys=Cd("not-in",r),i}return Qt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xd);function Cd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return $h.fromName(e.referenceValue)}))}var Id=function(e){Bt(n,e);var t=Ht(n);function n(e,r){return Gt(this,n),t.call(this,e,"array-contains",r)}return Qt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return id(t)&&Yh(t.arrayValue,this.value)}}]),n}(xd),Ad=function(e){Bt(n,e);var t=Ht(n);function n(e,r){return Gt(this,n),t.call(this,e,"in",r)}return Qt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Yh(this.value.arrayValue,t)}}]),n}(xd),Nd=function(e){Bt(n,e);var t=Ht(n);function n(e,r){return Gt(this,n),t.call(this,e,"not-in",r)}return Qt(n,[{key:"matches",value:function(e){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Yh(this.value.arrayValue,t)}}]),n}(xd),Rd=function(e){Bt(n,e);var t=Ht(n);function n(e,r){return Gt(this,n),t.call(this,e,"array-contains-any",r)}return Qt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!id(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yh(t.value.arrayValue,e)}))}}]),n}(xd),Od=Qt((function e(t,n){Gt(this,e),this.position=t,this.inclusive=n})),Pd=Qt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Gt(this,e),this.field=t,this.dir=n}));function Dd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ld(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?$h.comparator($h.fromName(o.referenceValue),n.key):Jh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Md(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xh(e.position[n],t.position[n]))return!1;return!0}var Ud=Qt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Gt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function jd(e,t,n,r,i,a,o,s){return new Ud(e,t,n,r,i,a,o,s)}function Fd(e){return new Ud(e)}function Vd(e){return!Hh(e.limit)&&"F"===e.limitType}function Bd(e){return!Hh(e.limit)&&"L"===e.limitType}function zd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qd(e){var t,n=Wt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kd(e){return null!==e.collectionGroup}function Hd(e){var t=ch(e);if(null===t.D){t.D=[];var n=qd(t),r=zd(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Pd(n)),t.D.push(new Pd(Ph.keyField(),"asc"));else{var i,a=!1,o=Wt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Pd(Ph.keyField(),u))}}}return t.D}function Wd(e){var t=ch(e);if(!t.C)if("F"===t.limitType)t.C=kd(t.path,t.collectionGroup,Hd(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Wt(Hd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Pd(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Od(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new Od(t.startAt.position,!t.startAt.inclusive):null;t.C=kd(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Gd(e,t,n){return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $d(e,t){return wd(Wd(e),Wd(t))&&e.limitType===t.limitType}function Qd(e){return"".concat(bd(Wd(e)),"|lt:").concat(e.limitType)}function Xd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ed(t.value));var t})).join(", "),"]")),Hh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ed(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ed(e)})).join(",")),"Target(".concat(t,")")}(Wd(e)),"; limitType=").concat(e.limitType,")")}function Yd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$h.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Wt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Wt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ld(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hd(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ld(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hd(e),t))}(e,t)}function Jd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zd(e){return function(t,n){var r,i=!1,a=Wt(Hd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=ep(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function ep(e,t,n){var r=e.field.isKeyField()?$h.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jh(r,i):sh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sh()}}function tp(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(t)?"-0":t}}function np(e){return{integerValue:""+e}}function rp(e,t){return Gh(t)?np(t):tp(e,t)}var ip=Qt((function e(){Gt(this,e),this._=void 0}));function ap(e,t,n){return e instanceof up?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cp?lp(e,t):e instanceof fp?hp(e,t):function(e,t){var n=sp(e,t),r=pp(n)+pp(e.k);return rd(n)&&rd(e.k)?np(r):tp(e.M,r)}(e,t)}function op(e,t,n){return e instanceof cp?lp(e,t):e instanceof fp?hp(e,t):n}function sp(e,t){return e instanceof dp?rd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var up=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n)}(ip),cp=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).elements=e,r}return Qt(n)}(ip);function lp(e,t){var n,r=vp(t),i=Wt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Xh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fp=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).elements=e,r}return Qt(n)}(ip);function hp(e,t){var n,r=vp(t),i=Wt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Xh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dp=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).M=e,i.k=r,i}return Qt(n)}(ip);function pp(e){return jh(e.integerValue||e.doubleValue)}function vp(e){return id(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var mp=Qt((function e(t,n){Gt(this,e),this.field=t,this.transform=n}));var yp=Qt((function e(t,n){Gt(this,e),this.version=t,this.transformResults=n})),gp=function(){function e(t,n){Gt(this,e),this.updateTime=t,this.exists=n}return Qt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function kp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var bp=Qt((function e(){Gt(this,e)}));function wp(e,t,n){e instanceof Tp?function(e,t,n){var r=e.value.clone(),i=Ap(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cp?function(e,t,n){if(kp(e.precondition,t)){var r=Ap(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ip(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _p(e,t,n){e instanceof Tp?function(e,t,n){if(kp(e.precondition,t)){var r=e.value.clone(),i=Np(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Sp(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Cp?function(e,t,n){if(kp(e.precondition,t)){var r=Np(e.fieldTransforms,n,t),i=t.data;i.setAll(Ip(e)),i.setAll(r),t.convertToFoundDocument(Sp(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){kp(e.precondition,t)&&t.convertToNoDocument(Th.min())}(e,t)}function xp(e,t){var n,r=null,i=Wt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=sp(a.transform,o||null);null!=s&&(null==r&&(r=ld.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ep(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Eh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cp&&t instanceof cp||e instanceof fp&&t instanceof fp?Eh(e.elements,t.elements,Xh):e instanceof dp&&t instanceof dp?Xh(e.k,t.k):e instanceof up&&t instanceof up}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Sp(e){return e.isFoundDocument()?e.version:Th.min()}var Tp=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Gt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Qt(n)}(bp),Cp=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Gt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Qt(n)}(bp);function Ip(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ap(e,t,n){var r=new Map;uh(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,op(o,s,n[i]))}return r}function Np(e,t,n){var r,i=new Map,a=Wt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ap(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Rp,Op,Pp=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Qt(n)}(bp),Dp=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Qt(n)}(bp),Lp=Qt((function e(t){Gt(this,e),this.count=t}));function Mp(e){switch(e){default:return sh();case lh.CANCELLED:case lh.UNKNOWN:case lh.DEADLINE_EXCEEDED:case lh.RESOURCE_EXHAUSTED:case lh.INTERNAL:case lh.UNAVAILABLE:case lh.UNAUTHENTICATED:return!1;case lh.INVALID_ARGUMENT:case lh.NOT_FOUND:case lh.ALREADY_EXISTS:case lh.PERMISSION_DENIED:case lh.FAILED_PRECONDITION:case lh.ABORTED:case lh.OUT_OF_RANGE:case lh.UNIMPLEMENTED:case lh.DATA_LOSS:return!0}}function Up(e){if(void 0===e)return ih("GRPC error has no .code"),lh.UNKNOWN;switch(e){case Rp.OK:return lh.OK;case Rp.CANCELLED:return lh.CANCELLED;case Rp.UNKNOWN:return lh.UNKNOWN;case Rp.DEADLINE_EXCEEDED:return lh.DEADLINE_EXCEEDED;case Rp.RESOURCE_EXHAUSTED:return lh.RESOURCE_EXHAUSTED;case Rp.INTERNAL:return lh.INTERNAL;case Rp.UNAVAILABLE:return lh.UNAVAILABLE;case Rp.UNAUTHENTICATED:return lh.UNAUTHENTICATED;case Rp.INVALID_ARGUMENT:return lh.INVALID_ARGUMENT;case Rp.NOT_FOUND:return lh.NOT_FOUND;case Rp.ALREADY_EXISTS:return lh.ALREADY_EXISTS;case Rp.PERMISSION_DENIED:return lh.PERMISSION_DENIED;case Rp.FAILED_PRECONDITION:return lh.FAILED_PRECONDITION;case Rp.ABORTED:return lh.ABORTED;case Rp.OUT_OF_RANGE:return lh.OUT_OF_RANGE;case Rp.UNIMPLEMENTED:return lh.UNIMPLEMENTED;case Rp.DATA_LOSS:return lh.DATA_LOSS;default:return sh()}}(Op=Rp||(Rp={}))[Op.OK=0]="OK",Op[Op.CANCELLED=1]="CANCELLED",Op[Op.UNKNOWN=2]="UNKNOWN",Op[Op.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Op[Op.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Op[Op.NOT_FOUND=5]="NOT_FOUND",Op[Op.ALREADY_EXISTS=6]="ALREADY_EXISTS",Op[Op.PERMISSION_DENIED=7]="PERMISSION_DENIED",Op[Op.UNAUTHENTICATED=16]="UNAUTHENTICATED",Op[Op.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Op[Op.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Op[Op.ABORTED=10]="ABORTED",Op[Op.OUT_OF_RANGE=11]="OUT_OF_RANGE",Op[Op.UNIMPLEMENTED=12]="UNIMPLEMENTED",Op[Op.INTERNAL=13]="INTERNAL",Op[Op.UNAVAILABLE=14]="UNAVAILABLE",Op[Op.DATA_LOSS=15]="DATA_LOSS";var jp=function(){function e(t,n){Gt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Qt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ih(this.inner,(function(t,n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ah(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Fp=function(){function e(t,n){Gt(this,e),this.comparator=t,this.root=n||Bp.EMPTY}return Qt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Vp(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Vp(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Vp(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Vp(this.root,e,this.comparator,!0)}}]),e}(),Vp=function(){function e(t,n,r,i){Gt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Qt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bp=function(){function e(t,n,r,i,a){Gt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Qt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw sh();if(this.right.isRed())throw sh();var e=this.left.check();if(e!==this.right.check())throw sh();return e+(this.isRed()?0:1)}}]),e}();Bp.EMPTY=null,Bp.RED=!0,Bp.BLACK=!1,Bp.EMPTY=new(function(){function e(){Gt(this,e),this.size=0}return Qt(e,[{key:"key",get:function(){throw sh()}},{key:"value",get:function(){throw sh()}},{key:"color",get:function(){throw sh()}},{key:"left",get:function(){throw sh()}},{key:"right",get:function(){throw sh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var zp=function(){function e(t){Gt(this,e),this.comparator=t,this.data=new Fp(this.comparator)}return Qt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new qp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new qp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),qp=function(){function e(t){Gt(this,e),this.iter=t}return Qt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Kp=new Fp($h.comparator);function Hp(){return Kp}var Wp=new Fp($h.comparator);function Gp(){return Wp}function $p(){return new jp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Qp=new Fp($h.comparator),Xp=new zp($h.comparator);function Yp(){for(var e=Xp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Jp=new zp(xh);function Zp(){return Jp}var ev=function(){function e(t,n,r,i,a){Gt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Qt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,tv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Th.min(),r,Zp(),Hp(),Yp())}}]),e}(),tv=function(){function e(t,n,r,i,a){Gt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Qt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Lh.EMPTY_BYTE_STRING,n,Yp(),Yp(),Yp())}}]),e}(),nv=Qt((function e(t,n,r,i){Gt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),rv=Qt((function e(t,n){Gt(this,e),this.targetId=t,this.$=n})),iv=Qt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Gt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),av=function(){function e(){Gt(this,e),this.B=0,this.L=uv(),this.U=Lh.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Qt(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Yp(),t=Yp(),n=Yp();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sh()}})),new tv(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=uv()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),ov=function(){function e(t){Gt(this,e),this.nt=t,this.st=new Map,this.it=Hp(),this.rt=sv(),this.ot=new zp(xh)}return Qt(e,[{key:"ut",value:function(e){var t,n=Wt(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=Wt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:sh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(_d(i))if(0===n){var a=new $h(i.path);this.ct(t,a,hd.newNoDocument(a,Th.min()))}else uh(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&_d(a.target)){var o=new $h(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,hd.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Yp();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new ev(e,n,this.ot,this.it,r);return this.it=Hp(),this.rt=sv(),this.ot=new zp(xh),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new av,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new zp(xh),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||rh("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new av),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function sv(){return new Fp($h.comparator)}function uv(){return new Fp($h.comparator)}var cv={asc:"ASCENDING",desc:"DESCENDING"},lv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fv=Qt((function e(t,n){Gt(this,e),this.databaseId=t,this.N=n}));function hv(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function dv(e,t){return e.N?t.toBase64():t.toUint8Array()}function pv(e,t){return hv(e,t.toTimestamp())}function vv(e){return uh(!!e),Th.fromTimestamp(function(e){var t=Uh(e);return new Sh(t.seconds,t.nanos)}(e))}function mv(e,t){return function(e){return new Rh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function yv(e){var t=Rh.fromString(e);return uh(Uv(t)),t}function gv(e,t){return mv(e.databaseId,t.path)}function kv(e,t){var n=yv(t);if(n.get(1)!==e.databaseId.projectId)throw new fh(lh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fh(lh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $h(xv(n))}function bv(e,t){return mv(e.databaseId,t)}function wv(e){var t=yv(e);return 4===t.length?Rh.emptyPath():xv(t)}function _v(e){return new Rh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xv(e){return uh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ev(e,t,n){return{name:gv(e,t),fields:n.value.mapValue.fields}}function Sv(e,t){var n;if(t instanceof Tp)n={update:Ev(e,t.key,t.value)};else if(t instanceof Pp)n={delete:gv(e,t.key)};else if(t instanceof Cp)n={update:Ev(e,t.key,t.data),updateMask:Mv(t.fieldMask)};else{if(!(t instanceof Dp))return sh();n={verify:gv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof up)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dp)return{fieldPath:t.field.canonicalString(),increment:n.k};throw sh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sh()}(e,t.precondition)),n}function Tv(e,t){return{documents:[bv(e,t.path)]}}function Cv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(od(e.value))return{unaryFilter:{field:Ov(e.field),op:"IS_NAN"}};if(ad(e.value))return{unaryFilter:{field:Ov(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(od(e.value))return{unaryFilter:{field:Ov(e.field),op:"IS_NOT_NAN"}};if(ad(e.value))return{unaryFilter:{field:Ov(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ov(e.field),op:Rv(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ov(e.field),direction:Nv(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||Hh(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Iv(e){var t=wv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){uh(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Av(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Pd(Pv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Hh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Od(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Od(n,t)}(n.endAt)),jd(t,i,s,o,u,"F",c,l)}function Av(e){return e?void 0!==e.unaryFilter?[Lv(e)]:void 0!==e.fieldFilter?[Dv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Av(e)})).reduce((function(e,t){return e.concat(t)})):sh():[]}function Nv(e){return cv[e]}function Rv(e){return lv[e]}function Ov(e){return{fieldPath:e.canonicalString()}}function Pv(e){return Ph.fromServerFormat(e.fieldPath)}function Dv(e){return xd.create(Pv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sh()}}(e.fieldFilter.op),e.fieldFilter.value)}function Lv(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Pv(e.unaryFilter.field);return xd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Pv(e.unaryFilter.field);return xd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pv(e.unaryFilter.field);return xd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pv(e.unaryFilter.field);return xd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sh()}}function Mv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Uv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var jv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Fv=([].concat(Xt(jv),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Vv=([].concat(Fv,["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Bv=function(){function e(){Gt(this,e),this.onCommittedListeners=[]}return Qt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),zv=function(){function e(t){var n=this;Gt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Qt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&sh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Wt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function qv(e){return"IndexedDbTransactionError"===e.name}var Kv=function(){function e(t,n,r,i){Gt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Qt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&wp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Wt(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&_p(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Wt(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&_p(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Th.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Yp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Eh(this.mutations,e.mutations,(function(e,t){return Ep(e,t)}))&&Eh(this.baseMutations,e.baseMutations,(function(e,t){return Ep(e,t)}))}}]),e}(),Hv=function(){function e(t,n,r,i){Gt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Qt(e,null,[{key:"from",value:function(t,n,r){uh(t.mutations.length===r.length);for(var i=Qp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Wv=function(){function e(t,n){Gt(this,e),this.largestBatchId=t,this.mutation=n}return Qt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Gv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Th.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Th.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lh.EMPTY_BYTE_STRING;Gt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Qt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),$v=Qt((function e(t){Gt(this,e),this.Jt=t}));function Qv(e){var t=Iv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gd(t,t.limit,"L"):t}var Xv=function(){function e(){Gt(this,e)}return Qt(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(jh(e.integerValue));else if("doubleValue"in e){var n=jh(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Wh(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Fh(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?cd(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):sh()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),$h.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();Xv.fe=new Xv;var Yv=function(){function e(){Gt(this,e),this.qe=new Jv}return Qt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),zv.resolve()}},{key:"getCollectionParents",value:function(e,t){return zv.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zv.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return zv.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return zv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zv.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return zv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zv.resolve()}}]),e}(),Jv=function(){function e(){Gt(this,e),this.index={}}return Qt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new zp(Rh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new zp(Rh.comparator)).toArray()}}]),e}();new Uint8Array(0);var Zv=function(){function e(t,n,r){Gt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Qt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Zv.DEFAULT_COLLECTION_PERCENTILE=10,Zv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zv.DEFAULT=new Zv(41943040,Zv.DEFAULT_COLLECTION_PERCENTILE,Zv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zv.DISABLED=new Zv(-1,0,0);var em=function(){function e(t){Gt(this,e),this.mn=t}return Qt(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();function tm(e){return nm.apply(this,arguments)}function nm(){return nm=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===lh.FAILED_PRECONDITION&&t.message===Vv){e.next=2;break}throw t;case 2:rh("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}var rm=function(){function e(){Gt(this,e),this.changes=new jp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Qt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,hd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var im=function(){function e(t,n,r){Gt(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Qt(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Wt(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Wt(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return $h.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Kd(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new $h(t)).next((function(e){var t=Gp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Gp();return this.indexManager.getCollectionParents(e,i).next((function(o){return zv.forEach(o,(function(o){var s=function(e,t){return new Ud(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Wt(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Wt(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=hd.newInvalidDocument(u),r=r.insert(u,c)),_p(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Yd(t,n)||(r=r.remove(e))})),r}))}}]),e}(),am=function(){function e(t,n,r,i){Gt(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Qt(e,null,[{key:"Ys",value:function(t,n){var r,i=Yp(),a=Yp(),o=Wt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),om=function(){function e(){Gt(this,e)}return Qt(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Th.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Vd(t)||Bd(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(nh()<=On.DEBUG&&rh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xd(t)),i.Zs.Qs(e,t,pd(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new zp(Zd(e));return t.forEach((function(t,r){Yd(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return nh()<=On.DEBUG&&rh("QueryEngine","Using full collection scan to execute query:",Xd(t)),this.Zs.Qs(e,t,md.min())}}]),e}(),sm=function(){function e(t,n,r,i){Gt(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Fp(xh),this.ri=new jp((function(e){return bd(e)}),wd),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return Qt(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new im(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function um(e,t,n,r){return new sm(e,t,n,r)}function cm(e,t){return lm.apply(this,arguments)}function lm(){return lm=Pt(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ch(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Yp(),u=Wt(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Wt(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Wt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Wt(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,s).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function fm(e,t){var n=ch(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);uh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function hm(e){var t=ch(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function dm(e,t){var n=ch(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Lh.EMPTY_BYTE_STRING,Th.min()).withLastLimboFreeSnapshotVersion(Th.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var s=Hp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(pm(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Th.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return zv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ii=i,e}))}function pm(e,t,n){var r=Yp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Hp();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Th.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):rh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function vm(e,t){var n=ch(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function mm(e,t){var n=ch(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,zv.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Gv(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function ym(e,t,n){return gm.apply(this,arguments)}function gm(){return gm=Pt(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ch(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),qv(e.t1)){e.next=12;break}throw e.t1;case 12:rh("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),gm.apply(this,arguments)}function km(e,t,n){var r=ch(e),i=Th.min(),a=Yp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ch(e),i=r.ri.get(n);return void 0!==i?zv.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Wd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Th.min(),n?a:Yp())})).next((function(e){return bm(r,Jd(t),e),{documents:e,li:a}}))}))}function bm(e,t,n){var r=Th.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}var wm=function(){function e(t){Gt(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return Qt(e,[{key:"getBundleMetadata",value:function(e,t){return zv.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:vv(n.createTime)}),zv.resolve()}},{key:"getNamedQuery",value:function(e,t){return zv.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Qv(e.bundledQuery),readTime:vv(e.readTime)}}(t)),zv.resolve()}}]),e}(),_m=function(){function e(){Gt(this,e),this.overlays=new Fp($h.comparator),this.gi=new Map}return Qt(e,[{key:"getOverlay",value:function(e,t){return zv.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),zv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),zv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=$p(),i=t.length+1,a=new $h(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return zv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Fp((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=$p(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=$p(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return zv.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Wv(t,n));var a=this.gi.get(t);void 0===a&&(a=Yp(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),xm=function(){function e(){Gt(this,e),this.yi=new zp(Em.pi),this.Ii=new zp(Em.Ti)}return Qt(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Em(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Em(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new $h(new Rh([])),r=new Em(n,e),i=new Em(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new $h(new Rh([])),n=new Em(t,e),r=new Em(t,e+1),i=Yp();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Em(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Em=function(){function e(t,n){Gt(this,e),this.key=t,this.vi=n}return Qt(e,null,[{key:"pi",value:function(e,t){return $h.comparator(e.key,t.key)||xh(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return xh(e.vi,t.vi)||$h.comparator(e.key,t.key)}}]),e}(),Sm=function(){function e(t,n){Gt(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new zp(Em.pi)}return Qt(e,[{key:"checkEmpty",value:function(e){return zv.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Kv(i,t,n,r);this.Bs.push(a);var o,s=Wt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Di=this.Di.add(new Em(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return zv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zv.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return zv.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zv.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return zv.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Em(t,0),i=new Em(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),zv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new zp(xh);return t.forEach((function(e){var t=new Em(e,0),i=new Em(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),zv.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;$h.isDocumentKey(i)||(i=i.child(""));var a=new Em(new $h(i),0),o=new zp(xh);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),zv.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;uh(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return zv.forEach(t.mutations,(function(i){var a=new Em(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Em(t,0),r=this.Di.firstAfterOrEqual(n);return zv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,zv.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Tm=function(){function e(t){Gt(this,e),this.Mi=t,this.docs=new Fp($h.comparator),this.size=0}return Qt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zv.resolve(n?n.document.mutableCopy():hd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Hp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():hd.newInvalidDocument(e))})),zv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Hp(),i=new $h(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||yd(vd(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return zv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){sh()}},{key:"Oi",value:function(e,t){return zv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Cm(this)}},{key:"getSize",value:function(e){return zv.resolve(this.size)}}]),e}(),Cm=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).Kn=e,r}return Qt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),zv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(rm),Im=function(){function e(t){Gt(this,e),this.persistence=t,this.Fi=new jp((function(e){return bd(e)}),wd),this.lastRemoteSnapshotVersion=Th.min(),this.highestTargetId=0,this.$i=0,this.Bi=new xm,this.targetCount=0,this.Li=em.gn()}return Qt(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),zv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zv.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),zv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),zv.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new em(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,zv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),zv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,zv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return zv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),zv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),zv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return zv.resolve(n)}},{key:"containsKey",value:function(e,t){return zv.resolve(this.Bi.containsKey(t))}}]),e}(),Am=function(){function e(t,n){var r=this;Gt(this,e),this.Ui={},this.overlays={},this.es=new bh(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Im(this),this.indexManager=new Yv,this.ds=new Tm((function(e){return r.referenceDelegate.qi(e)})),this.M=new $v(n),this._s=new wm(this.M)}return Qt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _m,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Sm(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;rh("MemoryPersistence","Starting transaction:",e);var i=new Nm(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return zv.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Nm=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Qt(n)}(Bv),Rm=function(){function e(t){Gt(this,e),this.persistence=t,this.ji=new xm,this.Wi=null}return Qt(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw sh()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),zv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),zv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),zv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zv.forEach(this.Hi,(function(r){var i=$h.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Th.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return zv.or([function(){return zv.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();var Om=function(){function e(){Gt(this,e),this.activeTargetIds=Zp()}return Qt(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Pm=function(){function e(){Gt(this,e),this.$r=new Om,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Qt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Om,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Dm=function(){function e(){Gt(this,e)}return Qt(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Lm=function(){function e(){var t=this;Gt(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return Qt(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){rh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Wt(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){rh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Wt(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Mm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Um=function(){function e(t){Gt(this,e),this.Wr=t.Wr,this.zr=t.zr}return Qt(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),jm=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Qt(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Yf;o.listenOnce(Wf.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Hf.NO_ERROR:var t=o.getResponseJson();rh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hf.TIMEOUT:rh("Connection",'RPC "'+e+'" timed out'),a(new fh(lh.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:var n=o.getStatus();if(rh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(lh).indexOf(t)>=0?t:lh.UNKNOWN}(r.status);a(new fh(s,r.message))}else a(new fh(lh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new fh(lh.UNAVAILABLE,"Connection failed."));break;default:sh()}}finally{rh("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=qf(),a=Kf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qf({})),this.ao(o.initMessageHeaders,t,n),sn()||cn()||on().indexOf("Electron/")>=0||ln()||on().indexOf("MSAppHost/")>=0||un()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");rh("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Um({Wr:function(e){l?rh("Connection","Not sending because WebChannel is closed:",e):(c||(rh("Connection","Opening WebChannel transport."),u.open(),c=!0),rh("Connection","WebChannel sending:",e),u.send(e))},zr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Xf.EventType.OPEN,(function(){l||rh("Connection","WebChannel transport opened.")})),h(u,Xf.EventType.CLOSE,(function(){l||(l=!0,rh("Connection","WebChannel transport closed"),f.no())})),h(u,Xf.EventType.ERROR,(function(e){l||(l=!0,ah("Connection","WebChannel transport errored:",e),f.no(new fh(lh.UNAVAILABLE,"The operation could not be completed")))})),h(u,Xf.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];uh(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){rh("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Rp[e];if(void 0!==t)return Up(t)}(a),s=i.message;void 0===o&&(o=lh.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new fh(o,s)),u.close()}else rh("Connection","WebChannel received:",n),f.so(n)}})),h(a,Gf.STAT_EVENT,(function(e){e.stat===$f.PROXY?rh("Connection","Detected buffering proxy"):e.stat===$f.NOPROXY&&rh("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){Gt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Qt(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);rh("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return rh("RestConnection","Received: ",e),e}),(function(t){throw ah("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Mm[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Fm(){return"undefined"!=typeof document?document:null}function Vm(e){return new fv(e,!0)}var Bm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Gt(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return Qt(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&rh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),zm=function(){function e(t,n,r,i,a,o,s,u){Gt(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Bm(t,n)}return Qt(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===lh.RESOURCE_EXHAUSTED?(ih(n.toString()),ih("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===lh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new fh(lh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(Pt(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return rh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(rh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qm=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i,a,o,s){var u;return Gt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return Qt(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(uh(void 0===t||"string"==typeof t),Lh.fromBase64String(t||"")):(uh(void 0===t||t instanceof Uint8Array),Lh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?lh.UNKNOWN:Up(e.code);return new fh(t,e.message||"")}(o);n=new iv(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=kv(e,u.document.name),l=vv(u.document.updateTime),f=new ld({mapValue:{fields:u.document.fields}}),h=hd.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new nv(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=kv(e,v.document),y=v.readTime?vv(v.readTime):Th.min(),g=hd.newNoDocument(m,y),k=v.removedTargetIds||[];n=new nv([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=kv(e,b.document),_=b.removedTargetIds||[];n=new nv([],_,w,null)}else{if(!("filter"in t))return sh();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new Lp(E),T=x.targetId;n=new rv(T,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Th.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Th.min():t.readTime?vv(t.readTime):Th.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=_v(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=_d(r)?{documents:Tv(e,r)}:{query:Cv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=dv(e,t.resumeToken):t.snapshotVersion.compareTo(Th.min())>0&&(n.readTime=hv(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return sh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=_v(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(zm),Km=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i,a,o,s){var u;return Gt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.zo=!1,u}return Qt(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,jt(Mt(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(uh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(uh(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?vv(e.updateTime):vv(t);return n.isEqual(Th.min())&&(n=vv(t)),new yp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=vv(e.commitTime);return this.listener.Yo(n,t)}return uh(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=_v(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Sv(t.M,e)}))};this.Fo(n)}}]),n}(zm),Hm=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i,a){var o;return Gt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return Qt(n,[{key:"eu",value:function(){if(this.tu)throw new fh(lh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.bo.oo(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===lh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fh(lh.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.bo.ho(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===lh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fh(lh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return Qt((function e(){Gt(this,e)}))}()),Wm=function(){function e(t,n){Gt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return Qt(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(ih(t),this.iu=!1):rh("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),Gm=Qt((function e(t,n,r,i,a){var o=this;Gt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=iy(o),!e.t0){e.next=5;break}return rh("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ch(t)).fu.add(4),e.next=4,Xm(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,$m(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new Wm(r,i)}));function $m(e){return Qm.apply(this,arguments)}function Qm(){return Qm=Pt(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iy(t)){e.next=18;break}n=Wt(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Qm.apply(this,arguments)}function Xm(e){return Ym.apply(this,arguments)}function Ym(){return Ym=Pt(Lt().mark((function e(t){var n,r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wt(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ym.apply(this,arguments)}function Jm(e,t){var n=ch(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),ry(n)?ny(n):Py(n).xo()&&ey(n,t))}function Zm(e,t){var n=ch(e),r=Py(n);n.lu.delete(t),r.xo()&&ty(n,t),0===n.lu.size&&(r.xo()?r.Mo():iy(n)&&n.wu.set("Unknown"))}function ey(e,t){e.mu.Z(t.targetId),Py(e).jo(t)}function ty(e,t){e.mu.Z(t),Py(e).Wo(t)}function ny(e){e.mu=new ov({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),Py(e).start(),e.wu.ru()}function ry(e){return iy(e)&&!Py(e).Co()&&e.lu.size>0}function iy(e){return 0===ch(e).fu.size}function ay(e){e.mu=void 0}function oy(e){return sy.apply(this,arguments)}function sy(){return sy=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){ey(t,e)}));case 1:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}function uy(e,t){return cy.apply(this,arguments)}function cy(){return cy=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ay(t),ry(t)?(t.wu.au(n),ny(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t,n){return fy.apply(this,arguments)}function fy(){return fy=Pt(Lt().mark((function e(t,n,r){var i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof iv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Pt(Lt().mark((function e(t,n){var r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Wt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),rh("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,hy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof nv?t.mu.ut(n):n instanceof rv?t.mu._t(n):t.mu.ht(n),r.isEqual(Th.min())){e.next=29;break}return e.prev=14,e.next=17,hm(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Lh.EMPTY_BYTE_STRING,n.snapshotVersion)),ty(e,t);var r=new Gv(n.target,t,1,n.sequenceNumber);ey(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),rh("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,hy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),fy.apply(this,arguments)}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=Pt(Lt().mark((function e(t,n,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qv(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,Xm(t);case 5:t.wu.set("Offline"),r||(r=function(){return hm(t.localStore)}),t.asyncQueue.enqueueRetryable(Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rh("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,$m(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e,t){return t().catch((function(n){return hy(e,n,t)}))}function vy(e){return my.apply(this,arguments)}function my(){return my=Pt(Lt().mark((function e(t){var n,r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ch(t),r=Dy(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!yy(n)){e.next=19;break}return e.prev=3,e.next=6,vm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,gy(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,hy(n,e.t0);case 17:e.next=2;break;case 19:ky(n)&&by(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),my.apply(this,arguments)}function yy(e){return iy(e)&&e.hu.length<10}function gy(e,t){e.hu.push(t);var n=Dy(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function ky(e){return iy(e)&&!Dy(e).Co()&&e.hu.length>0}function by(e){Dy(e).start()}function wy(e){return _y.apply(this,arguments)}function _y(){return _y=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dy(t).Zo();case 1:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function xy(e){return Ey.apply(this,arguments)}function Ey(){return Ey=Pt(Lt().mark((function e(t){var n,r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dy(t),r=Wt(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}function Sy(e,t,n){return Ty.apply(this,arguments)}function Ty(){return Ty=Pt(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=Hv.from(i,n,r),e.next=3,py(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,vy(t);case 5:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Cy(e,t){return Iy.apply(this,arguments)}function Iy(){return Iy=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Dy(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mp(i=n.code)||i===lh.ABORTED){e.next=7;break}return r=t.hu.shift(),Dy(t).ko(),e.next=5,py(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,vy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ky(t)&&by(t);case 5:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Ay(e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ch(t)).asyncQueue.verifyOperationInProgress(),rh("RemoteStore","RemoteStore received new credentials"),i=iy(r),r.fu.add(3),e.next=6,Xm(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,$m(r);case 12:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Ry(e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=Pt(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ch(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,$m(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,Xm(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Py(e){return e.gu||(e.gu=function(e,t,n){var r=ch(e);return r.eu(),new qm(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:oy.bind(null,e),Yr:uy.bind(null,e),Qo:ly.bind(null,e)}),e.du.push(function(){var t=Pt(Lt().mark((function t(n){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),ry(e)?ny(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:ay(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function Dy(e){return e.yu||(e.yu=function(e,t,n){var r=ch(e);return r.eu(),new Km(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:wy.bind(null,e),Yr:Cy.bind(null,e),Xo:xy.bind(null,e),Yo:Sy.bind(null,e)}),e.du.push(function(){var t=Pt(Lt().mark((function t(n){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,vy(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(rh("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var Ly=function(){function e(t,n,r,i,a){Gt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Qt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fh(lh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function My(e,t){if(ih("AsyncQueue","".concat(t,": ").concat(e)),qv(e))return new fh(lh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Uy=function(){function e(t){Gt(this,e),this.comparator=t?function(e,n){return t(e,n)||$h.comparator(e.key,n.key)}:function(e,t){return $h.comparator(e.key,t.key)},this.keyedMap=Gp(),this.sortedSet=new Fp(this.comparator)}return Qt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),jy=function(){function e(){Gt(this,e),this.pu=new Fp($h.comparator)}return Qt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):sh():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Fy=function(){function e(t,n,r,i,a,o,s,u){Gt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Qt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Uy.emptySet(n),a,r,i,!0,!1)}}]),e}(),Vy=Qt((function e(){Gt(this,e),this.Tu=void 0,this.listeners=[]})),By=Qt((function e(){Gt(this,e),this.queries=new jp((function(e){return Qd(e)}),$d),this.onlineState="Unknown",this.Eu=new Set}));function zy(e,t){return qy.apply(this,arguments)}function qy(){return qy=Pt(Lt().mark((function e(t,n){var r,i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ch(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Vy),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=My(e.t0,"Initialization of query '".concat(Xd(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&$y(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),qy.apply(this,arguments)}function Ky(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=Pt(Lt().mark((function e(t,n){var r,i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ch(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Wy(e,t){var n,r=ch(e),i=!1,a=Wt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Wt(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&$y(r)}function Gy(e,t,n){var r=ch(e),i=r.queries.get(t);if(i){var a,o=Wt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function $y(e){e.Eu.forEach((function(e){e.next()}))}var Qy=function(){function e(t,n,r){Gt(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Qt(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Wt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Fy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=Fy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}();var Xy=Qt((function e(t){Gt(this,e),this.key=t})),Yy=Qt((function e(t){Gt(this,e),this.key=t})),Jy=function(){function e(t,n){Gt(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Yp(),this.mutatedKeys=Yp(),this.Uu=Zd(t),this.qu=new Uy(this.Uu)}return Qt(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new jy,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Vd(this.query)&&i.size===this.query.limit?i.last():null,c=Bd(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Yd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Uu(f,u)>0||c&&n.Uu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Vd(this.query)||Bd(this.query))for(;o.size>this.query.limit;){var l=Vd(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:s,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sh()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],s=0===this.Lu.size&&this.current?1:0,u=s!==this.Bu;return this.Bu=s,0!==a.length||u?{snapshot:new Fy(this.query,e.qu,i,a,e.mutatedKeys,0===s,u,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new jy,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=Yp(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new Yy(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new Xy(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=Yp();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return Fy.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),Zy=Qt((function e(t,n,r){Gt(this,e),this.query=t,this.targetId=n,this.view=r})),eg=Qt((function e(t){Gt(this,e),this.key=t,this.Zu=!1})),tg=function(){function e(t,n,r,i,a,o){Gt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new jp((function(e){return Qd(e)}),$d),this.na=new Map,this.sa=new Set,this.ia=new Fp($h.comparator),this.ra=new Map,this.oa=new xm,this.ua={},this.aa=new Map,this.ca=em.yn(),this.onlineState="Unknown",this.ha=void 0}return Qt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function ng(e,t){return rg.apply(this,arguments)}function rg(){return rg=Pt(Lt().mark((function e(t,n){var r,i,a,o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rg(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,mm(r.localStore,Wd(n));case 8:return s=e.sent,r.isPrimaryClient&&Jm(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,ig(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(e,t,n,r){return ag.apply(this,arguments)}function ag(){return ag=Pt(Lt().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=Pt(Lt().mark((function e(t,n,r,i){var a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,km(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(xg(t,n.targetId,s.Hu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,km(t.localStore,n,!0);case 3:return a=e.sent,o=new Jy(n,a.li),s=o.Gu(a.documents),u=tv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),xg(t,r,c.Hu),l=new Zy(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ag.apply(this,arguments)}function og(e,t){return sg.apply(this,arguments)}function sg(){return sg=Pt(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ch(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!$d(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ym(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Zm(r.remoteStore,i.targetId),wg(r,i.targetId)})).catch(tm);case 9:e.next=14;break;case 11:return wg(r,i.targetId),e.next=14,ym(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),sg.apply(this,arguments)}function ug(e,t,n){return cg.apply(this,arguments)}function cg(){return cg=Pt(Lt().mark((function e(t,n,r){var i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Og(t),e.prev=1,e.next=4,function(e,t){var n,r=ch(e),i=Sh.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Yp());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,s=[],u=Wt(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=xp(c,n.get(c.key));null!=l&&s.push(new Cp(c.key,l,fd(l.value.mapValue),gp.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Fp(xh)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Tg(i,a.changes);case 9:return e.next=11,vy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=My(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),cg.apply(this,arguments)}function lg(e,t){return fg.apply(this,arguments)}function fg(){return fg=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ch(t),e.prev=1,e.next=4,dm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(uh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?uh(n.Zu):e.removedDocuments.size>0&&(uh(n.Zu),n.Zu=!1))})),e.next=8,Tg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,tm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),fg.apply(this,arguments)}function hg(e,t,n){var r=ch(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ch(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Wt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$y(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function dg(e,t,n){return pg.apply(this,arguments)}function pg(){return pg=Pt(Lt().mark((function e(t,n,r){var i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ch(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Fp($h.comparator)).insert(o,hd.newNoDocument(o,Th.min())),u=Yp().add(o),c=new ev(Th.min(),new Map,new zp(xh),s,u),e.next=9,lg(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),Sg(i),e.next=16;break;case 14:return e.next=16,ym(i.localStore,n,!1).then((function(){return wg(i,n,r)})).catch(tm);case 16:case"end":return e.stop()}}),e)}))),pg.apply(this,arguments)}function vg(e,t){return mg.apply(this,arguments)}function mg(){return mg=Pt(Lt().mark((function e(t,n){var r,i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ch(t),i=n.batch.batchId,e.prev=1,e.next=4,fm(r.localStore,n);case 4:return a=e.sent,bg(r,i,null),kg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Tg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,tm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mg.apply(this,arguments)}function yg(e,t,n){return gg.apply(this,arguments)}function gg(){return gg=Pt(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ch(t),e.prev=1,e.next=4,function(e,t){var n=ch(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return uh(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bg(i,n,r),kg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Tg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,tm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gg.apply(this,arguments)}function kg(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function bg(e,t,n){var r=ch(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function wg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Wt(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||_g(e,t)}))}function _g(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(Zm(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),Sg(e))}function xg(e,t,n){var r,i=Wt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Xy?(e.oa.addReference(a.key,t),Eg(e,a)):a instanceof Yy?(rh("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||_g(e,a.key)):sh()}}catch(o){i.e(o)}finally{i.f()}}function Eg(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(rh("SyncEngine","New document in limbo: "+n),e.sa.add(r),Sg(e))}function Sg(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new $h(Rh.fromString(t)),r=e.ca.next();e.ra.set(r,new eg(n)),e.ia=e.ia.insert(n,r),Jm(e.remoteStore,new Gv(Wd(Fd(n.path)),r,2,bh.A))}}function Tg(e,t,n){return Cg.apply(this,arguments)}function Cg(){return Cg=Pt(Lt().mark((function e(t,n,r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ch(t),a=[],o=[],s=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){s.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=am.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ta.Qo(a),e.next=9,function(){var e=Pt(Lt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ch(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zv.forEach(n,(function(t){return zv.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zv.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),qv(e.t0)){e.next=10;break}throw e.t0;case 10:rh("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Wt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ii.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Ig(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ch(t)).currentUser.isEqual(n)){e.next=11;break}return rh("SyncEngine","User change. New user:",n.toKey()),e.next=5,cm(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new fh(lh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Tg(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}function Ng(e,t){var n=ch(e),r=n.ra.get(t);if(r&&r.Zu)return Yp().add(r.key);var i=Yp(),a=n.na.get(t);if(!a)return i;var o,s=Wt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ea.get(u);i=i.unionWith(c.view.Ku)}}catch(l){s.e(l)}finally{s.f()}return i}function Rg(e){var t=ch(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ng.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dg.bind(null,t),t.ta.Qo=Wy.bind(null,t.eventManager),t.ta.fa=Gy.bind(null,t.eventManager),t}function Og(e){var t=ch(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yg.bind(null,t),t}var Pg=function(){function e(){Gt(this,e),this.synchronizeTabs=!1}return Qt(e,[{key:"initialize",value:function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Vm(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return um(this.persistence,new om,e.initialUser,this.M)}},{key:"wa",value:function(e){return new Am(Rm.zi,this.M)}},{key:"_a",value:function(e){return new Pm}},{key:"terminate",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Dg=function(){function e(){Gt(this,e)}return Qt(e,[{key:"initialize",value:function(){var e=Pt(Lt().mark((function e(t,n){var r=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ig.bind(null,this.syncEngine),e.next=12,Ry(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new By}},{key:"createDatastore",value:function(e){var t,n=Vm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new jm(t));return function(e,t,n,r){return new Hm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return hg(o.syncEngine,e,0)},a=Lm.vt()?new Lm:new Dm,new Gm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new tg(e,t,n,r,i,a);return o&&(s.ha=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ch(t),rh("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,Xm(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Lg=function(){function e(t){Gt(this,e),this.observer=t,this.muted=!1}return Qt(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Mg=function(){function e(t,n,r,i){var a=this;Gt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zf.UNAUTHENTICATED,this.clientId=_h.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rh("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return rh("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Qt(e,[{key:"getConfiguration",value:function(){var e=Pt(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new fh(lh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new hh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Pt(Lt().mark((function n(){var r;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=My(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ug(e,t){return jg.apply(this,arguments)}function jg(){return jg=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),rh("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,cm(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Fg(e,t){return Vg.apply(this,arguments)}function Vg(){return Vg=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Bg(t);case 3:return r=e.sent,rh("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Ay(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ay(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Vg.apply(this,arguments)}function Bg(e){return zg.apply(this,arguments)}function zg(){return zg=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return rh("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Ug(t,new Pg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function qg(e){return Kg.apply(this,arguments)}function Kg(){return Kg=Pt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return rh("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Fg(t,new Dg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Hg(e){return qg(e).then((function(e){return e.syncEngine}))}function Wg(e){return Gg.apply(this,arguments)}function Gg(){return Gg=Pt(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ng.bind(null,n.syncEngine),r.onUnlisten=og.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Gg.apply(this,arguments)}function $g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hh;return e.asyncQueue.enqueueAndForget(Pt(Lt().mark((function i(){return Lt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lg({next:function(a){t.enqueueAndForget((function(){return Ky(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new fh(lh.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new fh(lh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qy(Fd(n.path),a,{includeMetadataChanges:!0,Cu:!0});return zy(e,o)},i.next=3,Wg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Qg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hh;return e.asyncQueue.enqueueAndForget(Pt(Lt().mark((function i(){return Lt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lg({next:function(n){t.enqueueAndForget((function(){return Ky(e,o)})),n.fromCache&&"server"===r.source?i.reject(new fh(lh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qy(n,a,{includeMetadataChanges:!0,Cu:!0});return zy(e,o)},i.next=3,Wg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Xg=new Map;function Yg(e,t,n){if(!n)throw new fh(lh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Jg(e){if(!$h.isDocumentKey(e))throw new fh(lh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zg(e){if($h.isDocumentKey(e))throw new fh(lh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ek(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":sh()}function tk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fh(lh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ek(e);throw new fh(lh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function nk(e,t){if(t<=0)throw new fh(lh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var rk=function(){function e(t){var n;if(Gt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new fh(lh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fh(lh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new fh(lh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Qt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ik=function(){function e(t,n,r){Gt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rk({}),this._settingsFrozen=!1,t instanceof Kh?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fh(lh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kh(e.options.projectId)}(t))}return Qt(e,[{key:"app",get:function(){if(!this._app)throw new fh(lh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new fh(lh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ph;switch(e.type){case"gapi":var t=e.client;return uh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new yh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new fh(lh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Xg.get(e);t&&(rh("ComponentProvider","Removing Datastore"),Xg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var ak=function(){function e(t,n,r){Gt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Qt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new sk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ok=function(){function e(t,n,r){Gt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Qt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),sk=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,e,r,Fd(i)))._path=i,a.type="collection",a}return Qt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ak(this.firestore,null,new $h(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ok);function uk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_n(e),Yg("collection","path",t),e instanceof ik){var a=Rh.fromString.apply(Rh,[t].concat(r));return Zg(a),new sk(e,null,a)}if(!(e instanceof ak||e instanceof sk))throw new fh(lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rh.fromString.apply(Rh,[t].concat(r)));return Zg(o),new sk(e.firestore,null,o)}function ck(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_n(e),1===arguments.length&&(t=_h.R()),Yg("doc","path",t),e instanceof ik){var a=Rh.fromString.apply(Rh,[t].concat(r));return Jg(a),new ak(e,null,new $h(a))}if(!(e instanceof ak||e instanceof sk))throw new fh(lh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rh.fromString.apply(Rh,[t].concat(r)));return Jg(o),new ak(e.firestore,e instanceof sk?e.converter:null,new $h(o))}var lk=function(){function e(){var t=this;Gt(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Bm(this,"async_queue_retry"),this.qa=function(){var e=Fm();e&&rh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Fm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return Qt(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Fm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new hh;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=Pt(Lt().mark((function e(){var t=this;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),qv(e.t0)){e.next=12;break}throw e.t0;case 12:rh("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ih("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=Ly.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&sh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=Pt(Lt().mark((function e(){var t;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=Wt(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Wt(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function fk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Wt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var hk=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new lk,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Qt(n,[{key:"_terminate",value:function(){return this._firestoreClient||pk(this),this._firestoreClient.terminate()}}]),n}(ik);function dk(e){return e._firestoreClient||pk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pk(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new qh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Mg(e._authCredentials,e._appCheckCredentials,e._queue,r)}var vk=function(){function e(){Gt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new fh(lh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ph(n)}return Qt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var mk=function(){function e(t){Gt(this,e),this._byteString=t}return Qt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Lh.fromBase64String(t))}catch(t){throw new fh(lh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Lh.fromUint8Array(t))}}]),e}(),yk=Qt((function e(t){Gt(this,e),this._methodName=t})),gk=function(){function e(t,n){if(Gt(this,e),!isFinite(t)||t<-90||t>90)throw new fh(lh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fh(lh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Qt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return xh(this._lat,e._lat)||xh(this._long,e._long)}}]),e}(),kk=/^__.*__$/,bk=function(){function e(t,n,r){Gt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Qt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Cp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tp(e,this.data,t,this.fieldTransforms)}}]),e}(),wk=function(){function e(t,n,r){Gt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Qt(e,[{key:"toMutation",value:function(e,t){return new Cp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function _k(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sh()}}var xk=function(){function e(t,n,r,i,a,o){Gt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Qt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return Fk(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(_k(this.Xa)&&kk.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),Ek=function(){function e(t,n,r){Gt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Vm(t)}return Qt(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xk({Xa:e,methodName:t,uc:n,path:Ph.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Sk(e){var t=e._freezeSettings(),n=Vm(e._databaseId);return new Ek(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);Lk("Data must be an object, but it was:",o,r);var s,u,c=Pk(r,o);if(a.merge)s=new Dh(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Wt(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Mk(t,d,n);if(!o.contains(p))throw new fh(lh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Vk(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Dh(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new bk(new ld(c),s,u)}var Ck=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yk);var Ik=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n,[{key:"_toFieldTransform",value:function(e){return new mp(e.path,new up)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yk);function Ak(e,t,n,r){var i=e.ac(1,t,n);Lk("Data must be an object, but it was:",i,r);var a=[],o=ld.empty();Ih(r,(function(e,r){var s=jk(t,e,n);r=_n(r);var u=i.sc(s);if(r instanceof Ck)a.push(s);else{var c=Ok(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Dh(a);return new wk(o,s,i.fieldTransforms)}function Nk(e,t,n,r,i,a){var o=e.ac(1,t,n),s=[Mk(t,r,n)],u=[i];if(a.length%2!=0)throw new fh(lh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Mk(t,a[c])),u.push(a[c+1]);for(var l=[],f=ld.empty(),h=s.length-1;h>=0;--h)if(!Vk(l,s[h])){var d=s[h],p=u[h];p=_n(p);var v=o.sc(d);if(p instanceof Ck)l.push(d);else{var m=Ok(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Dh(l);return new wk(f,y,o.fieldTransforms)}function Rk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ok(n,e.ac(r?4:3,t))}function Ok(e,t){if(Dk(e=_n(e)))return Lk("Unsupported field value:",t,e),Pk(e,t);if(e instanceof yk)return function(e,t){if(!_k(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Wt(e);try{for(a.s();!(n=a.n()).done;){var o=Ok(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=_n(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rp(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Sh.fromDate(e);return{timestampValue:hv(t.M,n)}}if(e instanceof Sh){var r=new Sh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hv(t.M,r)}}if(e instanceof gk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mk)return{bytesValue:dv(t.M,e._byteString)};if(e instanceof ak){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:mv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(ek(e)))}(e,t)}function Pk(e,t){var n={};return Ah(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ih(e,(function(e,r){var i=Ok(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sh||e instanceof gk||e instanceof mk||e instanceof ak||e instanceof yk)}function Lk(e,t,n){if(!Dk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ek(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function Mk(e,t,n){if((t=_n(t))instanceof vk)return t._internalPath;if("string"==typeof t)return jk(e,t);throw Fk("Field path arguments must be of type string or ",e,!1,void 0,n)}var Uk=new RegExp("[~\\*/\\[\\]]");function jk(e,t,n){if(t.search(Uk)>=0)throw Fk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Jt(vk,Xt(t.split(".")))._internalPath}catch(r){throw Fk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Fk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new fh(lh.INVALID_ARGUMENT,s+e+u)}function Vk(e,t){return e.some((function(e){return e.isEqual(t)}))}var Bk=function(){function e(t,n,r,i,a){Gt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Qt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ak(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(qk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zk=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n,[{key:"data",value:function(){return jt(Mt(n.prototype),"data",this).call(this)}}]),n}(Bk);function qk(e,t){return"string"==typeof t?jk(e,t):t instanceof vk?t._internalPath:t._delegate._internalPath}var Kk=function(){function e(t,n){Gt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Qt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Hk=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i,a,o,s){var u;return Gt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Qt(n,[{key:"exists",value:function(){return jt(Mt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Wk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(qk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Bk),Wk=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jt(Mt(n.prototype),"data",this).call(this,e)}}]),n}(Hk),Gk=function(){function e(t,n,r,i){Gt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Kk(i.hasPendingWrites,i.fromCache),this.query=r}return Qt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Wk(n._firestore,n._userDataWriter,r.key,r,new Kk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fh(lh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Wk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Wk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$k(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function $k(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sh()}}function Qk(e){if(Bd(e)&&0===e.explicitOrderBy.length)throw new fh(lh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xk=Qt((function e(){Gt(this,e)}));function Yk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Jk=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return Qt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new fh(lh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new fh(lh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pd(t,n);return function(e,t){if(null===zd(e)){var n=qd(e);null!==n&&ab(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new ok(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ud(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Xk);function Zk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=qk("orderBy",e);return new Jk(r,n)}var eb=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return Qt(n,[{key:"_apply",value:function(e){return new ok(e.firestore,e.converter,Gd(e._query,this.wc,this.mc))}}]),n}(Xk);function tb(e){return nk("limit",e),new eb("limit",e,"F")}var nb=function(e){Bt(n,e);var t=Ht(n);function n(e,r,i){var a;return Gt(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return Qt(n,[{key:"_apply",value:function(e){var t=ib(e,this.type,this.gc,this.yc);return new ok(e.firestore,e.converter,function(e,t){return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Xk);function rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nb("startAfter",t,!1)}function ib(e,t,n,r){if(n[0]=_n(n[0]),n[0]instanceof Bk)return function(e,t,n,r,i){if(!r)throw new fh(lh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Wt(Hd(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(nd(t,r.key));else{var c=r.data.field(u.field);if(Vh(c))throw new fh(lh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new fh(lh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Od(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Sk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new fh(lh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new fh(lh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Kd(e)&&-1!==c.indexOf("/"))throw new fh(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Rh.fromString(c));if(!$h.isDocumentKey(l))throw new fh(lh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new $h(l);s.push(nd(t,f))}else{var h=Rk(n,r,c);s.push(h)}}return new Od(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ab(e,t,n){if(!n.isEqual(t))throw new fh(lh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ob=function(){function e(){Gt(this,e)}return Qt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ih(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new gk(jh(e.latitude),jh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Bh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Uh(e);return new Sh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rh.fromString(e);uh(Uv(n));var r=new Kh(n.get(1),n.get(3)),i=new $h(n.popFirst(5));return r.isEqual(t)||ih("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function sb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function ub(e){e=tk(e,ak);var t=tk(e.firestore,hk);return $g(dk(t),e._key).then((function(n){return yb(t,e,n)}))}var cb=function(e){Bt(n,e);var t=Ht(n);function n(e){var r;return Gt(this,n),(r=t.call(this)).firestore=e,r}return Qt(n,[{key:"convertBytes",value:function(e){return new mk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ak(this.firestore,null,t)}}]),n}(ob);function lb(e){e=tk(e,ok);var t=tk(e.firestore,hk),n=dk(t),r=new cb(t);return Qk(e._query),Qg(n,e._query).then((function(n){return new Gk(t,r,e,n)}))}function fb(e,t,n){e=tk(e,ak);var r=tk(e.firestore,hk),i=sb(e.converter,t,n);return mb(r,[Tk(Sk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gp.none())])}function hb(e,t,n){e=tk(e,ak);for(var r=tk(e.firestore,hk),i=Sk(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return mb(r,[("string"==typeof(t=_n(t))||t instanceof vk?Nk(i,"updateDoc",e._key,t,n,o):Ak(i,"updateDoc",e._key,t)).toMutation(e._key,gp.exists(!0))])}function db(e){return mb(tk(e.firestore,hk),[new Pp(e._key,gp.none())])}function pb(e,t){var n=tk(e.firestore,hk),r=ck(e),i=sb(e.converter,t);return mb(n,[Tk(Sk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,gp.exists(!1))]).then((function(){return r}))}function vb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=_n(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||fk(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(fk(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ak)l=tk(e.firestore,hk),f=Fd(e._key.path),c={next:function(t){n[u]&&n[u](yb(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=tk(e,ok);l=tk(p.firestore,hk),f=p._query;var v=new cb(l);c={next:function(e){n[u]&&n[u](new Gk(l,v,p,e))},error:n[u+1],complete:n[u+2]},Qk(e._query)}return function(e,t,n,r){var i=new Lg(r),a=new Qy(t,i,n);return e.asyncQueue.enqueueAndForget(Pt(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zy,t.next=3,Wg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(Pt(Lt().mark((function t(){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ky,t.next=3,Wg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(dk(l),f,h,c)}function mb(e,t){return function(e,t){var n=new hh;return e.asyncQueue.enqueueAndForget(Pt(Lt().mark((function r(){return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ug,r.next=3,Hg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(dk(e),t)}function yb(e,t,n){var r=n.docs.get(t._key),i=new cb(e);return new Hk(e,i,t._key,r,new Kk(n.hasPendingWrites,n.fromCache),t.converter)}function gb(){return new Ik("serverTimestamp")}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];eh="9.7.0",Yn(new In("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new hk(i,new vh(e.getProvider("auth-internal")),new kh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ir(Jf,"3.4.8",e),ir(Jf,"3.4.8","esm2017")}();var kb="firebasestorage.googleapis.com",bb=function(e){Bt(n,e);var t=Ht(n);function n(e,r){var i;return Gt(this,n),(i=t.call(this,wb(e),"Firebase Storage: ".concat(r," (").concat(wb(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Ft(i),n.prototype),i}return Qt(n,[{key:"_codeEquals",value:function(e){return wb(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(fn);function wb(e){return"storage/"+e}function _b(){return new bb("unknown","An unknown error occurred, please check the error payload for server response.")}function xb(){return new bb("canceled","User canceled the upload/download.")}function Eb(){return new bb("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Sb(e){return new bb("invalid-argument",e)}function Tb(){return new bb("app-deleted","The Firebase app was deleted.")}function Cb(e,t){return new bb("invalid-format","String does not match format '"+e+"': "+t)}function Ib(e){throw new bb("internal-error","Internal error: "+e)}var Ab,Nb=function(){function e(t,n){Gt(this,e),this.bucket=t,this.path_=n}return Qt(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new bb("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===kb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new bb("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Rb=function(){function e(t){Gt(this,e),this.promise_=Promise.reject(t)}return Qt(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Ob(e){return"string"===typeof e||e instanceof String}function Pb(e){return Db()&&e instanceof Blob}function Db(){return"undefined"!==typeof Blob}function Lb(e,t,n,r){if(r<t)throw Sb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Sb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Mb(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ub(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ab||(Ab={}));var jb=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Gt(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Qt(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=_b();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Tb():xb());else i(new bb("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Fb(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Fb(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Ab.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Fb(o,r))}else{var s=r.getErrorCode()===Ab.ABORT;t(!1,new Fb(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Fb=Qt((function e(t,n,r){Gt(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Vb(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Bb(){for(var e=Vb(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Db())return new Blob(n);throw new bb("unsupported-environment","This browser doesn't seem to support creating Blobs")}var zb="raw",qb="base64",Kb="base64url",Hb="data_url",Wb=Qt((function e(t,n){Gt(this,e),this.data=t,this.contentType=n||null}));function Gb(e,t){switch(e){case zb:return new Wb($b(t));case qb:case Kb:return new Wb(Qb(e,t));case Hb:return new Wb(function(e){var t=new Xb(e);return t.base64?Qb(qb,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Cb(Hb,"Malformed data URL.")}return $b(t)}(t.rest)}(t),new Xb(t).contentType)}throw _b()}function $b(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Qb(e,t){switch(e){case qb:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Cb(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Kb:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Cb(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Cb(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Xb=Qt((function e(t){Gt(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Cb(Hb,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Yb=function(){function e(t,n){Gt(this,e);var r=0,i="";Pb(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Qt(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Pb(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Db()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Bb.apply(null,i))}var a=n.map((function(e){return Ob(e)?Gb(zb,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Jb(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Zb(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ew(e,t){return t}var tw=Qt((function e(t,n,r,i){Gt(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ew})),nw=null;function rw(){if(nw)return nw;var e=[];e.push(new tw("bucket")),e.push(new tw("generation")),e.push(new tw("metageneration")),e.push(new tw("name","fullPath",!0));var t=new tw("name");t.xform=function(e,t){return function(e){return!Ob(e)||e.length<2?e:Zb(e)}(t)},e.push(t);var n=new tw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new tw("timeCreated")),e.push(new tw("updated")),e.push(new tw("md5Hash",null,!0)),e.push(new tw("cacheControl",null,!0)),e.push(new tw("contentDisposition",null,!0)),e.push(new tw("contentEncoding",null,!0)),e.push(new tw("contentLanguage",null,!0)),e.push(new tw("contentType",null,!0)),e.push(new tw("metadata","customMetadata",!0)),nw=e}function iw(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Nb(n,r);return t._makeStorageReference(i)}})}(r,e),r}function aw(e,t,n){var r=Jb(t);return null===r?null:iw(e,r,n)}function ow(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var sw=Qt((function e(t,n,r,i){Gt(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function uw(e){if(!e)throw _b()}function cw(e,t){return function(n,r){var i=aw(e,r,t);return uw(null!==i),i}}function lw(e,t){return function(n,r){var i=aw(e,r,t);return uw(null!==i),function(e,t,n,r){var i=Jb(t);if(null===i)return null;if(!Ob(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Mb("/b/"+o(i)+"/o/"+o(a),n,r)+Ub({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function fw(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new bb("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new bb("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new bb("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new bb("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function hw(e){var t=fw(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new bb("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function dw(e,t,n){var r=Mb(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new sw(r,"GET",cw(e,n),i);return a.errorHandler=hw(t),a}function pw(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function vw(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=pw(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ow(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Yb.getBlob(c,r,l);if(null===f)throw Eb();var h={name:u.fullPath},d=Mb(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new sw(d,"POST",cw(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=fw(t),v}var mw=Qt((function e(t,n,r,i){Gt(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function yw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){uw(!1)}return uw(!!n&&-1!==(t||["active"]).indexOf(n)),n}var gw=262144;function kw(e,t,n,r,i,a,o,s){var u=new mw(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new bb("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw Eb();var v=t.maxUploadRetryTime,m=new sw(n,"POST",(function(e,n){var i,o=yw(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?cw(t,a)(e,n):null,new mw(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=fw(e),m}var bw="running",ww="paused",_w="success",xw="canceled",Ew="error";function Sw(e){switch(e){case"running":case"pausing":case"canceling":return bw;case"paused":return ww;case"success":return _w;case"canceled":return xw;default:return Ew}}var Tw=Qt((function e(t,n,r){Gt(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Cw(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Iw=function(){function e(){var t=this;Gt(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ab.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Ab.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Ab.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Qt(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ib("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ib("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ib("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ib("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ib("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Aw=function(e){Bt(n,e);var t=Ht(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Qt(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Iw);function Nw(){return new Aw}var Rw=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Gt(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=rw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Qt(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=o(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=pw(t,r,i),s={name:o.fullPath},u=Mb(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=ow(o,n),f=e.maxUploadRetryTime,h=new sw(u,"POST",(function(e){var t;yw(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){uw(!1)}return uw(Ob(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=fw(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Nw,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new sw(n,"POST",(function(e){var t=yw(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){uw(!1)}n||uw(!1);var i=Number(n);return uw(!isNaN(i)),new mw(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=fw(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Nw,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=gw*this._chunkMultiplier,n=new mw(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=kw(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Nw,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){gw*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=dw(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Nw,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=vw(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Nw,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=xb(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Sw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Tw(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Sw(this._state)){case _w:Cw(this._resolve.bind(null,this.snapshot))();break;case xw:case Ew:Cw(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Sw(this._state)){case bw:case ww:e.next&&Cw(e.next.bind(e,this.snapshot))();break;case _w:e.complete&&Cw(e.complete.bind(e))();break;default:e.error&&Cw(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Ow=function(){function e(t,n){Gt(this,e),this._service=t,this._location=n instanceof Nb?n:Nb.makeFromUrl(n,t.host)}return Qt(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Nb(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Zb(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Nb(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new bb("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Pw(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Mb(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new sw(r,"GET",lw(e,n),i);return a.errorHandler=hw(t),a}(e.storage,e._location,rw());return e.storage.makeRequestWithTokens(t,Nw).then((function(e){if(null===e)throw new bb("no-download-url","The given file does not have any download URLs.");return e}))}function Dw(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Nb(e._location.bucket,n);return new Ow(e.storage,r)}function Lw(e,t){if(e instanceof jw){var n=e;if(null==n._bucket)throw new bb("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ow(n,n._bucket);return null!=t?Lw(r,t):r}return void 0!==t?Dw(e,t):e}function Mw(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof jw)return new Ow(e,t);throw Sb("To use ref(service, url), the first argument must be a Storage instance.")}return Lw(e,t)}function Uw(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Nb.makeFromBucketSpec(n,e)}var jw=function(){function e(t,n,r,i,a){Gt(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=kb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Nb.makeFromBucketSpec(i,this._host):Uw(this._host,this.app.options)}return Qt(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Nb.makeFromBucketSpec(this._url,e):this._bucket=Uw(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Lb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Lb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Pt(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Pt(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Ow(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Rb(Tb());var a=function(e,t,n,r,i,a){var o=Ub(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new jb(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Pt(Lt().mark((function e(t,n){var r,i,a,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=o(r,2),a=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Fw="@firebase/storage",Vw="0.9.5",Bw="storage";function zw(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Rw(e,new Yb(t),n)}(e=_n(e),t,n)}function qw(e){return Pw(e=_n(e))}function Kw(e,t){return Mw(e=_n(e),t)}function Hw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr(),t=arguments.length>1?arguments[1]:void 0,n=Jn(e=_n(e),Bw),r=n.getImmediate({identifier:t});return r}function Ww(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new jw(r,i,a,n,nr)}Yn(new In(Bw,Ww,"PUBLIC").setMultipleInstances(!0)),ir(Fw,Vw,""),ir(Fw,Vw,"esm2017");var Gw=function(e,t,n,r){return{serverKey:e,serverName:t,iconURL:n,altText:r,channels:{},users:{}}},$w=function(e,t,n,r){return{channelKey:e,channelName:t,channelDesc:n,channelRoot:r,messages:[]}},Qw=function(e,t,n,r){return{user:e,timestamp:t,content:n,messageKey:r}},Xw=function(e,t,n){return{userKey:e,userName:t,iconURL:n}},Yw=function(){var e=Gw("server-1","Server1","/discord-clone/img/profile2.png","SV1");e.users["user-1"]=Xw("user-1","User 1","/discord-clone/img/profile2.png"),e.users["user-2"]=Xw("user-2","User 2","gone");var t=$w("channel-1","Channel-1","Speak your Piece.","The root of channel 1");t.messages=[Qw("User1","1:00pm","Hello World!","id1"),Qw("User1","1:01pm","Me again","id2"),Qw("User2","1:02pm","Replying","id3"),Qw("User1","1:03pm","Final\nMessage\nWith\nMultiple\nLines\n","id4"),Qw("User1","1:03pm","a\nb\nc\nd\ne\nf\ng\nh\ni\nj\n","id5"),Qw("User3","1:04pm","more","id6"),Qw("User3","1:04pm","more","id7"),Qw("User3","1:04pm","more","id8"),Qw("User3","1:04pm","more","id9"),Qw("User3","1:04pm","more","id10")];var n=$w("channel-2","Channel-2","The alt channel.","The root of channel 2");n.messages=[Qw("User1","1:00pm","Change the channel!","id11")],e.channels={"channel-1":t,"channel-2":n};var r=Gw("server-2","Server2","gone","SV2");r.users["user-3"]=Xw("user-3","User 3","gone");var i=$w("channel-3","Cool Zone","Coolest place on the coolest server.","The Cool Root");return i.messages=[Qw("User1","1:00pm","Hello World!","id101"),Qw("User1","1:01pm","Me again","id102"),Qw("User2","1:02pm","Replying","id103"),Qw("User1","1:03pm","Final\nMessage\nWith\nMultiple\nLines\n","id104"),Qw("User1","1:03pm","a\nb\nc\nd\ne\nf\ng\nh\ni\nj\n","id105"),Qw("User3","1:04pm","more","id106"),Qw("User3","1:04pm","more","id107"),Qw("User3","1:04pm","8","id108"),Qw("User3","1:04pm","9","id109"),Qw("User3","1:04pm","10","id110"),Qw("User3","1:04pm","11","id111"),Qw("User3","1:04pm","12","id112"),Qw("User3","1:04pm","13","id113"),Qw("User3","1:04pm","14","id114"),Qw("User3","1:04pm","15","id115"),Qw("User3","1:04pm","16","id116"),Qw("User3","1:04pm","17","id117"),Qw("User3","1:04pm","18","id118"),Qw("User3","1:04pm","19","id119"),Qw("User1","1:11pm","20","id120")],r.channels={"channel-3":i},{"server-1":e,"server-2":r}}();var Jw={getServers:function(){return Object.values(Yw).map((function(e){return{serverKey:e.serverKey,serverName:e.serverName,iconURL:e.iconURL,altText:e.altText}}))},getChannels:function(e){var t=Yw[e];return t?Object.values(t.channels).map((function(e){return{channelKey:e.channelKey,channelName:e.channelName,channelDesc:e.channelDesc}})):[]},addMessage:function(e,t,n){var r=Yw[e].channels[t].messages;r&&r.push(n)},getMessages:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,i=Yw[e];if(i){var a=i.channels[t];if(a){var o=Yw[e].channels[t].messages;if(o){var s=o.length-n,u=Math.max(0,s-r);return o.slice(u,s)}}}return[]},getChannelRoot:function(e,t){var n=Yw[e];if(n){var r=n.channels[t];if(r)return r.channelRoot}return"missing root"}},Zw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return Jn(e,"firestore").getImmediate()}(),e_="/discord-clone/img/blank.png",t_=null,n_=null,r_=null,i_=null,a_=null,o_=null,s_=null,u_=!1,c_=12,l_={};function f_(){return(f_=Pt(Lt().mark((function e(){var t,n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rs.getUserAuth();case 2:return t=e.sent,e.next=5,ub(ck(Zw,"users",t.uid));case 5:return n=e.sent,r=n.data(),e.abrupt("return",{uid:t.uid,displayName:r.displayName,icon:r.iconURL||e_});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h_(){return(h_=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fb(ck(Zw,"users",t),{displayName:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d_(){return d_=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l_[t]?l_[t].promise.then((function(e){n(e)})):l_[t]={promise:new Promise(function(){var e=Pt(Lt().mark((function e(r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ub(ck(Zw,"users",t));case 2:i=e.sent,(a=i.data())?(o={uid:t,name:a.displayName,icon:a.iconURL||e_},n(o),r(o)):(n(s={uid:t,name:"Missing",icon:e_}),r(s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};case 1:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function p_(e,t){return ck(Zw,"servers",e,"channels",t)}function v_(e){return ck(Zw,"servers",e)}function m_(e,t){t_?e.content||e.deleted?t_.onNewMessage(e,t):console.error("Blank message submitted"):console.error("Missing message subscriber")}function y_(){return y_=Pt(Lt().mark((function e(){var t,n,r,i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t_||!i_||u_){e.next=20;break}if(t=p_(a_,i_),n=uk(t,"messages"),!o_||o_.data().timestamp){e.next=7;break}return e.next=6,ub(ck(n,o_.id));case 6:o_=e.sent;case 7:return r=o_?Yk(n,Zk("timestamp","desc"),tb(c_),rb(o_)):Yk(n,Zk("timestamp","desc"),tb(c_)),e.next=10,lb(r);case 10:if(i=e.sent,a=i.docs.length,i.forEach((function(e){var t=e.data();m_({user:t.user,timestamp:t.timestamp.toMillis(),content:t.content,messageKey:e.id,deleted:!!e.deleted},!0)})),a>0&&(o_=i.docs[a-1]),!(a<c_)){e.next=20;break}return e.next=17,ub(t);case 17:o=e.sent,(s=o.data())&&(m_({content:s.root,messageKey:"".concat(i_,"-root"),isRoot:!0},!0),u_=!0);case 20:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function g_(){return(g_=Pt(Lt().mark((function e(t){var n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uk(Zw,"servers",a_,"channels",i_,"messages"),r={user:t.user,timestamp:gb(),content:t.content},e.next=4,pb(n,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k_(){return(k_=Pt(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p_(t,n),a=ck(i,"messages",r),e.next=4,hb(a,{content:"",deleted:"true"});case 4:t_.onDeleteMessage(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b_(){return b_=Pt(Lt().mark((function e(t,n,r,i,a){var o,s,u;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:a(),u_=!1,o_=null,t_={onNewMessage:n,onChangeMessage:r,onDeleteMessage:i,onClearMessages:a},o=uk(Zw,"servers",a_,"channels",i_=t,"messages"),s=Yk(o,Zk("timestamp","desc"),tb(c_)),u=vb(s,(function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data(),r={user:t.user,timestamp:t.timestamp?t.timestamp.toMillis():Date.now(),content:t.content,deleted:!!t.deleted,messageKey:e.doc.id};if(o_){var a=o_.data().timestamp.toMillis();t.timestamp&&a>t.timestamp.toMillis()?(o_=e.doc,n(r,!0)):n(r,!1)}else n(r,!1),o_=e.doc}"modified"===e.type&&e.doc.data.deleted&&i(e.doc.id),"removed"===e.type&&i(e.doc.id)}))})),r_.unsub=u;case 11:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(){return w_=Pt(Lt().mark((function e(t,n,r,i){var a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ub(ck(Zw,"servers",t));case 4:a=e.sent,o=a.data(),s=o.owner,u=uk(Zw,"servers",t,"users"),c=vb(Yk(u),(function(e){e.docChanges().forEach((function(e){var t=e.doc.data(),a=e.doc.id;if("added"===e.type){var o={uid:a,isOwner:s===a,isAdmin:t.isAdmin,isModerator:t.isModerator};n(o)}if("modified"===e.type){var u={uid:a,isOwner:s===e.doc.id,isAdmin:t.isAdmin,isModerator:t.isModerator};r(a,u)}"removed"===e.type&&i(a)}))})),s_=c;case 9:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function __(e,t,n,r){return x_.apply(this,arguments)}function x_(){return(x_=Pt(Lt().mark((function e(t,n,r,i){var a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v_(t),e.next=3,pb(uk(a,"channels"),{name:n,desc:r,root:i});case 3:return o=e.sent,e.abrupt("return",o.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E_(){return(E_=Pt(Lt().mark((function e(t,n,r,i,a){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hb(p_(t,n),{name:r,desc:i,root:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S_(){return(S_=Pt(Lt().mark((function e(t,n){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:db(p_(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T_(){return(T_=Pt(Lt().mark((function e(t,n,r){var i,a,o,s,u,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pb(uk(Zw,"servers"),{name:n,iconURL:"IMAGE_NOT_FOUND",owner:t.uid});case 2:return i=e.sent,e.next=5,fb(ck(Zw,"users",t.uid,"servers",i.id),{});case 5:return e.next=7,fb(ck(i,"users",t.uid),{});case 7:return e.next=9,__(i.id,"Welcome","The welcome channel","Welcome to the server");case 9:return a=e.sent,o=Kw(Hw(),"".concat(i.id,"/").concat(r.name)),e.next=13,zw(o,r);case 13:return s=e.sent,e.next=16,qw(o);case 16:return u=e.sent,e.next=19,hb(i,{iconURL:u,storageUri:s.metadata.fullPath});case 19:return c={serverKey:i.id,channelKey:a},e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C_(){return(C_=Pt(Lt().mark((function e(t,n,r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v_(t),!r){e.next=13;break}return a=Kw(Hw(),"".concat(t,"/").concat(r.name)),e.next=5,zw(a,r);case 5:return o=e.sent,e.next=8,qw(a);case 8:return s=e.sent,e.next=11,hb(i,{name:n,iconURL:s,storageUri:o.metadata.fullPath});case 11:e.next=15;break;case 13:return e.next=15,hb(i,{name:n});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I_(){return(I_=Pt(Lt().mark((function e(t,n,r){var i,a,o,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ck(Zw,"users",t),!r){e.next=12;break}return a=Kw(Hw(),"".concat(t,"/").concat(r.name)),e.next=5,zw(a,r);case 5:return o=e.sent,e.next=8,qw(a);case 8:return s=e.sent,e.next=11,hb(i,{displayName:n,iconURL:s,storageUri:o.metadata.fullPath});case 11:return e.abrupt("return",{uid:t,icon:s,displayName:n});case 12:return e.next=14,hb(i,{displayName:n});case 14:return e.abrupt("return",{uid:t,displayName:n});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(){return(A_=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(Zw,"servers",t,"users",n),e.next=3,db(r);case 3:return i=ck(Zw,"users",n,"servers",t),e.next=6,db(i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(){return(N_=Pt(Lt().mark((function e(t){var n,r,i,a,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v_(t),e.next=3,ub(n);case 3:return r=e.sent,i=r.data(),a=i.owner,o=ck(Zw,"users",a,"servers",t),e.next=8,db(n);case 8:return e.next=10,db(o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(){return R_=Pt(Lt().mark((function e(){var t,n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lb(uk(Zw,"servers"));case 2:return t=e.sent,n=[],t.forEach((function(e){var t=e.data(),r={serverKey:e.id,serverName:t.name,iconURL:t.iconURL,altText:t.name.slice(0,3).toUpperCase()};n.push(r)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function O_(){return(O_=Pt(Lt().mark((function e(t,n){var r,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(Zw,"servers",t,"users",n),i=ck(Zw,"users",n,"servers",t),e.next=4,ub(i);case 4:if(!e.sent.exists()){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,fb(r,{});case 9:return e.next=11,fb(i,{});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P_(){return(P_=Pt(Lt().mark((function e(t,n,r){var i,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={},e.t0=r,e.next="admin"===e.t0?4:"moderator"===e.t0?6:8;break;case 4:return i={isAdmin:!0,isModerator:!1},e.abrupt("break",9);case 6:return i={isAdmin:!1,isModerator:!0},e.abrupt("break",9);case 8:i={isAdmin:!1,isModerator:!1};case 9:return a=ck(Zw,"servers",t,"users",n),e.next=12,hb(a,i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D_={sendMessage:function(e){return g_.apply(this,arguments)},deleteMessage:function(e,t,n){return k_.apply(this,arguments)},subscribeToMessages:function(e,t,n,r,i){return b_.apply(this,arguments)},unSubscribeToMessages:function(){i_=null,t_&&t_.unsub&&t_.unsub(),t_=null},subscribeToChannels:function(e,t){r_={onReplaceChannelList:t},a_=e;var n=vb(Yk(uk(Zw,"servers",e,"channels")),(function(n){var r=[];n.forEach(function(){var n=Pt(Lt().mark((function n(i){var a,o;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(a=i.data())&&(o={channelKey:i.id,channelName:a.name,channelDesc:a.desc,channelRoot:a.root,serverKey:e},r.push(o),t(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}));r_.unsub=n},unSubscribeToChannels:function(){r_.unsub&&r_.unsub(),a_=null,r_=null},subscribeToServers:function(e){n_={onReplaceServerList:e},Rs.getUserAuth().then((function(t){var n=vb(Yk(uk(Zw,"users",t.uid,"servers")),(function(t){var n=[];t.forEach(function(){var t=Pt(Lt().mark((function t(r){var i,a,o,s;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=ck(Zw,"servers",r.id),t.next=3,ub(i);case 3:a=t.sent,(o=a.data())&&(s={serverKey:a.id,serverName:o.name,iconURL:o.iconURL,altText:o.name.slice(0,3).toUpperCase(),owner:o.owner},n.push(s),e(n));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));n_.unsub=n}))},unSubscribeToServers:function(){n_.unsub&&n_.unsub(),n_=null},pushTestContent:function(){if(n_){var e=function(e,t,n,r){return{serverKey:e,serverName:t,iconURL:n,altText:r}},t=[e("server-1","Server1","/discord-clone/img/profile2.png","SV1"),e("server-2","Server2","gone","SV2"),e("server-7","Server7","/discord-clone/img/profile2.png","SV7"),e("server-8","Server8","gone","SV8")];n_.onReplaceServerList(t)}if(r_){var n=function(e,t,n){return{channelKey:e,channelName:t,channelDesc:n}},r=[n("channel-1","Channel-1","Speak your Piece."),n("channel-2","Channel-2","Speak to Peace."),n("channel-3","Channel-3","Speak of Pizza."),n("channel-4","Channel-4","Spike Peez."),n("channel-5","Channel-5","Piece your Speak.")];r_.onReplaceChannelList(r)}if(t_){var i=function(e,t,n,r){return{user:e,timestamp:t,content:n,messageKey:r}};[i("User1","1:00pm","Hello World!","id1"),i("User1","1:01pm","Me again","id2"),i("User2","1:02pm","Replying","id3"),i("User1","1:03pm","Final\nMessage\nWith\nMultiple\nLines\n","id4"),i("User1","1:03pm","a\nb\nc\nd\ne\nf\ng\nh\ni\nj\n","id5"),i("User3","1:04pm","more","id6"),i("User3","1:04pm","more","id7"),i("User3","1:04pm","more","id8"),i("User3","1:04pm","more","id9"),i("User3","1:04pm","more","id10")].forEach((function(e){m_(e)}))}},pushFakeContent:function(){n_&&n_.onReplaceServerList(Jw.getServers()),a_&&(r_&&r_.onReplaceChannelList(Jw.getChannels(a_)),t_&&i_&&Jw.getMessages(a_,i_,c_).forEach((function(e){m_(e)})))},loadMoreMessages:function(){return y_.apply(this,arguments)},createNewServer:function(e,t,n){return T_.apply(this,arguments)},updateChannel:function(e,t,n,r,i){return E_.apply(this,arguments)},createNewChannel:__,updateServer:function(e,t,n){return C_.apply(this,arguments)},deleteChannel:function(e,t){return S_.apply(this,arguments)},leaveServer:function(e,t){return A_.apply(this,arguments)},getUserDetails:function(e,t){return d_.apply(this,arguments)},deleteServer:function(e){return N_.apply(this,arguments)},getSelf:function(){return f_.apply(this,arguments)},updateUser:function(e,t,n){return I_.apply(this,arguments)},createNewUser:function(e,t){return h_.apply(this,arguments)},getAllServers:function(){return R_.apply(this,arguments)},addUserToServer:function(e,t){return O_.apply(this,arguments)},subscribeToUserList:function(e,t,n,r){return w_.apply(this,arguments)},unSubscribeToUserList:function(){s_&&s_(),s_=null},setUserRank:function(e,t,n){return P_.apply(this,arguments)},subscribeToUserSelf:function(e,t){var n=vb(ck(Zw,"users",e),(function(n){var r=n.data();r&&t({uid:e,name:r.displayName,icon:r.iconURL||e_})}));return n},subscribeToSelfInServer:function(e,t,n){var r=vb(ck(Zw,"servers",t,"users",e),(function(e){var t=e.data();n(t?{isAdmin:t.isAdmin,isModerator:t.isModerator}:{isAdmin:!1,isModerator:!1})}));return r}},L_=Rt.FormBox,M_=Rt.FormH1,U_=Rt.LabelWrapper,j_=Rt.InputWrapper,F_=Rt.FormInput;var V_,B_,z_=function(){var e=T();return(0,G.jsxs)(L_,{children:[(0,G.jsx)(M_,{children:"Create an account"}),(0,G.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault();var n=t.target,r=n[0].value,i=n[1].value,a=n[2].value,o=n[3].value,s=n[4].value,u=n[5].value,c={email:r,username:i,password:a,birthday:"".concat(o,"-").concat(s,"-").concat(u)};Rs.registerUser(c,function(){var t=Pt(Lt().mark((function t(n){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D_.createNewUser(n.uid,n.displayName);case 2:e("/discord-clone/server/@me");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:[(0,G.jsxs)(U_,{children:[(0,G.jsx)("label",{htmlFor:"register-email",children:"EMAIL"}),(0,G.jsx)(j_,{children:(0,G.jsx)(F_,{name:"email",id:"register-email",type:"email",required:!0})})]}),(0,G.jsxs)(U_,{children:[(0,G.jsx)("label",{htmlFor:"register-username",children:"USERNAME"}),(0,G.jsx)(j_,{children:(0,G.jsx)(F_,{name:"username",id:"register-username",type:"text",required:!0})})]}),(0,G.jsxs)(U_,{className:"input-wrapper",children:[(0,G.jsx)("label",{htmlFor:"register-password",children:"PASSWORD"}),(0,G.jsx)(j_,{children:(0,G.jsx)(F_,{name:"password",id:"register-password",type:"password",required:!0})})]}),(0,G.jsxs)(U_,{className:"input-wrapper",children:[(0,G.jsx)("label",{htmlFor:"register-month",children:"DATE OF BIRTH"}),(0,G.jsxs)(j_,{children:[(0,G.jsx)(F_,{name:"register-month",type:"text",placeholder:"Month #",required:!0}),(0,G.jsx)(F_,{name:"register-day",type:"text",placeholder:"Day #",required:!0}),(0,G.jsx)(F_,{name:"register-year",type:"text",placeholder:"Year",required:!0})]})]}),(0,G.jsx)("button",{type:"submit",children:"Continue"})]}),(0,G.jsx)("div",{children:(0,G.jsx)("a",{href:"./login",children:"Already have an account?"})}),(0,G.jsx)("div",{className:"policy",children:"By registering, you agree to not make a mess of this project."})]})},q_=Nt.div(V_||(V_=Q(['{\n  background-image: url("/discord-clone/img/nightsky.jpg");\n  display: grid;\n  grid-template-rows: 1fr auto;\n  min-height: 100vh;\n  background-size: max(100vw, 150vh);\n  background-repeat: no-repeat;\n  align-items: center;\n  justify-items: center;\n}']))),K_=Nt.div(B_||(B_=Q(["{\n  color: white;\n  margin-bottom: 5px;\n  background-color: rgba(0, 0, 0, 0.1);\n}"])));function H_(e){var t=e.register;return(0,G.jsxs)(q_,{children:[!t&&(0,G.jsx)(js,{}),t&&(0,G.jsx)(z_,{}),(0,G.jsxs)(K_,{className:"credit-text",children:["Photo by ",(0,G.jsx)("a",{href:"https://unsplash.com/@grakozy",children:"Greg Rakozy"})," on ",(0,G.jsx)("a",{href:"http://unsplash.com",children:"Unsplash"})]})]})}H_.defaultProps={register:!0};var W_=H_;function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G_(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q_,X_,Y_,J_,Z_=n(191),ex=n.n(Z_),tx=Nt.div(Q_||(Q_=Q(["{\n  position: relative;\n  padding-right: 10px;\n  padding-left: 10px;\n\n  &:hover{\n    border-left: white 2px solid;\n    padding-left: 8px;\n\n    div{\n      border-radius: 15px;\n    }\n  }\n}"]))),nx=Nt(tx)(X_||(X_=Q(["{\n  ","\n}"])),(function(e){return e.serveractive?"&&{\n        padding-left: 8px;\n        border-left: white 2px solid;\n\n        div{\n          border-radius: 15px;\n        }\n      }":""})),rx=Nt.div(Y_||(Y_=Q(['{\n  border-radius: 50%;\n  overflow: hidden;\n\n  &:hover::after{\n    position: absolute;\n    top: 10px;\n    background-color: #191a1e;\n    left: 65px;\n    width: max-content;\n    padding: 5px;\n    content:"','";\n    z-index: 2;\n  }\n}'])),(function(e){return e.serverName})),ix=Nt.img(J_||(J_=Q(["{\n\n  ","\n\n  width: 50px;\n  height: 50px;\n  background-color: blue;\n  /* flex the alt text to the center of the icon */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  color: white;\n}"])),(function(e){return e.isDefault?"{\n        &&{background-color: #687759}\n      }":"{\n      &&{background-color: blue}\n    }"}));function ax(e){var t=e.src,n=e.alt,r=e.serverActive,i=e.serverName,a=e.isDefault;return(0,G.jsx)(nx,{serveractive:r,children:(0,G.jsx)(rx,{serverName:i,children:(0,G.jsx)(ix,{src:t,alt:n,isDefault:a})})})}ax.defaultProps={src:"",alt:"ERR",serverName:"",serverActive:!1,isDefault:!1};var ox,sx,ux,cx,lx=ax,fx=Nt.div(ox||(ox=Q(["{\n  display: grid;\n  grid-template-rows: auto 1fr;\n  grid-template-columns: auto 1fr;\n  margin: 10px 0px;\n\n  &:hover{\n    background-color: gray;\n  }\n\n  p{\n    margin: 5px 0px;\n  }\n}"]))),hx=Nt.div(sx||(sx=Q(["{\n  margin: 10px 20px auto;\n  grid-row: 1/3;\n\n  >img{\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    background-color: red;\n    overflow: clip;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}"]))),dx=Nt.div(ux||(ux=Q(["{\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n\n  >span{\n    color: #5a5d63;\n    font-size: 0.8em;\n  }\n\n  >span:first-child{\n    color: white;\n    font-size: 1em;\n    font-weight: bold;\n    margin-right: 10px;\n  }\n}"]))),px=Nt.button(cx||(cx=Q(["{\n  margin-left: auto;\n  margin-right: 10px;\n  visibility: hidden;\n\n  ",": hover & {\n    visibility: inherit;\n  }\n}"])),fx);function vx(e){var n=e.user,r=e.timestamp,i=e.content,a=e.deleted,s=e.isRoot,u=e.isModerator,c=e.deleteFunc,l=o((0,t.useState)({uid:0,name:"Loading",icon:"blank.png"}),2),f=l[0],h=l[1];s||(0,t.useEffect)((function(){D_.getUserDetails(n,h)}),[]);var d=i.split("\n"),p=new Date;return p.setTime(r),(0,G.jsxs)("div",{children:[s&&(0,G.jsx)("div",{children:i}),!s&&(0,G.jsxs)(fx,{children:[(0,G.jsx)(hx,{children:(0,G.jsx)("img",{src:f.icon,alt:"U"})}),(0,G.jsxs)(dx,{children:[(0,G.jsx)("span",{children:f.name}),(0,G.jsx)("span",{children:p.toString()}),u&&!a&&(0,G.jsx)(px,{type:"button",onClick:c,children:"X"})]}),(0,G.jsxs)("div",{children:[a&&(0,G.jsx)("p",{children:"<deleted>"}),!a&&d.map((function(e,t){return(0,G.jsx)("p",{children:e},t)}))]})]})]})}vx.defaultProps={user:"missing",timestamp:0,content:"missing",deleted:!1,isRoot:!1,isModerator:!1,deleteFunc:function(){}};var mx,yx,gx=vx,kx=Nt.div(mx||(mx=Q(["\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  background-color: rgba(0,0,0,0.5);\n  z-index: 2;\n  display: float;\n  justify-content: center;\n  align-items: center;\n"]))),bx=Nt.div(yx||(yx=Q(["\n  background-color: gray;\n  border: solid 3px #444;\n  padding: 30px;\n\n  >div{\n    padding: 10px 0px;\n  }\n\n  button{\n    padding: 5px;\n    color: white;\n  }\n\n  button[type=button]{\n    background-color: red;\n  }\n\n  button[type=submit]{\n    background-color: green;\n  }\n"])));function wx(e){var n=e.inputs,r=e.submitLabel,i=e.onSubmit,a=e.onClose,s=o((0,t.useState)(n.map((function(e){return e.placeholder}))),2),u=s[0],c=s[1],l=function(e,t){c((function(n){var r=Xt(n);return r[e]=t,r}))};return(0,G.jsx)(kx,{children:(0,G.jsxs)(bx,{children:[n.map((function(e,t){return function(e,t,n,r){var i=e.type,a=e.label,o=e.placeholder,s="modal-".concat(t),u=function(e){n(t,e.target.value)};switch(i){case"label":return(0,G.jsx)("div",{children:a},t);case"text":return(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{htmlFor:s,children:a}),(0,G.jsx)("input",{type:"text",value:r[t],onChange:u,id:s})]},t);case"textarea":return(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{htmlFor:s,children:a}),(0,G.jsx)("textarea",{value:r[t],onChange:u,id:s})]},t);case"file":return(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{htmlFor:s,children:a}),(0,G.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){e.preventDefault();var r=e.target.files[0];n(t,r)},id:s})]},t);case"option":return(0,G.jsxs)("div",{children:[(0,G.jsx)("label",{htmlFor:s,children:a}),(0,G.jsx)("select",{name:"modal-select",id:s,onChange:u,defaultValue:o.default,children:o.options.map((function(e){return(0,G.jsx)("option",{value:e.value,children:e.string},"modal-".concat(e.value))}))})]},t);default:return(0,G.jsx)("div",{children:"".concat(i,": ").concat(a,": ").concat(o)},t)}}(e,t,l,u)})),(0,G.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),i(u)},children:r}),(0,G.jsx)("button",{type:"button",onClick:a,children:"Cancel"})]})})}wx.defaultProps={inputs:[],submitLabel:"Yes",onSubmit:function(){},onClose:function(){}};var _x,xx,Ex=wx,Sx={onSubmit:null,onClose:null,inputs:[],submitLabel:"missing"};var Tx={useModal:function(){return function(e,t,n,r){xx((function(i){if(!i){return Sx={inputs:e,submitLabel:t,onSubmit:function(e){n&&n(e),xx(!1)},onClose:function(e){r&&r(e),xx(!1)}},!0}return!1}))}},getModalWindow:function(){var e=o((0,t.useState)(!1),2);return _x=e[0],xx=e[1],(0,G.jsx)("div",{className:"modal-wrapper",children:_x&&(0,G.jsx)(Ex,{inputs:Sx.inputs,submitLabel:Sx.submitLabel,onSubmit:Sx.onSubmit,onClose:Sx.onClose})})}},Cx=Tx.useModal();function Ix(){return(Ix=Pt(Lt().mark((function e(t,n,r){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cx([{type:"label",label:"Delete Channel?",placeholder:"none"},{type:"label",label:"Note: The last channel cannot be deleted.",placeholder:"none"}],"Confirm",(function(){if(n.length>1){var e=n[0].channelKey===t.channelKey?n[1].channelKey:n[0].channelKey;D_.deleteChannel(t.serverKey,t.channelKey),r&&r(t.serverKey,e)}else console.error("Cannot delete last channel in server")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ax,Nx,Rx={signOutModal:function(e){Cx([{type:"label",label:"Signout?",placeholder:"none"},{type:"label",label:"Confirm",placeholder:"none"}],"Yes",(function(){Rs.logoutUser(),e&&e()}))},editServerModal:function(e,t){Cx([{type:"label",label:"Edit Server",placeholder:"none"},{type:"text",label:"Name",placeholder:e.serverName},{type:"file",label:"Change Icon?",placeholder:""}],"Save",(function(n){D_.updateServer(e.serverKey,n[1],n[2]),t&&t()}))},deleteServerModal:function(e,t){Cx([{type:"label",label:"Delete Server?",placeholder:"none"}],"Confirm",Pt(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D_.deleteServer(e.serverKey);case 2:t&&t();case 3:case"end":return n.stop()}}),n)}))))},editChannelModal:function(e,t){Cx([{type:"label",label:"Edit Channel",placeholder:"none"},{type:"text",label:"Name",placeholder:e.channelName},{type:"text",label:"Description",placeholder:e.channelDesc},{type:"textarea",label:"Root Message",placeholder:e.channelRoot}],"Save",function(){var n=Pt(Lt().mark((function n(r){var i,a,o;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r[1],a=r[2],o=r[3],D_.updateChannel(e.serverKey,e.channelKey,i,a,o),t&&t();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},deleteChannelModal:function(e,t,n){return Ix.apply(this,arguments)},createChannelModal:function(e,t){Cx([{type:"label",label:"Create Channel",placeholder:"none"},{type:"text",label:"Name",placeholder:"New Channel"},{type:"text",label:"Description",placeholder:"A new channel"},{type:"textarea",label:"Root Message",placeholder:"Welcome to the new channel"}],"Create",function(){var n=Pt(Lt().mark((function n(r){var i,a,o,s;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r[1],a=r[2],o=r[3],n.next=5,D_.createNewChannel(e.serverKey,i,a,o);case 5:s=n.sent,t&&t(e.serverKey,s);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},createServerModal:function(e,t){Cx([{type:"label",label:"Create Server",placeholder:"none"},{type:"text",label:"Name",placeholder:"new-server"},{type:"file",label:"Icon",placeholder:""}],"Create",function(){var n=Pt(Lt().mark((function n(r){var i;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D_.createNewServer(e,r[1],r[2]);case 2:i=n.sent,t&&t(i.serverKey,i.channelKey);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},deleteMessageModal:function(e,t,n){Cx([{type:"label",label:"Delete Message?",placeholder:"none"},{type:"label",label:"".concat(t.user,": ").concat(t.content),placeholder:"none"}],"Confirm",(function(){D_.deleteMessage(e.serverKey,e.channelKey,t.messageKey),n&&n()}))},leaveServerModal:function(e,t,n){Cx([{type:"label",label:"Leave Server?",placeholder:"none"}],"Confirm",Pt(Lt().mark((function r(){return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.owner!==t.uid){r.next=4;break}console.error("Owner cannot leave their own server"),r.next=7;break;case 4:return r.next=6,D_.leaveServer(e.serverKey,t.uid);case 6:n&&n();case 7:case"end":return r.stop()}}),r)}))))},editUserModal:function(e,t){Cx([{type:"label",label:"Edit Profile",placeholder:"none"},{type:"text",label:"Name",placeholder:e.displayName},{type:"file",label:"Change Icon?",placeholder:""}],"Save",function(){var n=Pt(Lt().mark((function n(r){var i,a;return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D_.updateUser(e.uid,r[1],r[2]);case 2:i=n.sent,a={uid:e.uid,displayName:i.displayName,icon:i.icon||e.icon},t&&t(a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},promoteUserModal:function(e,t,n,r){var i=[{value:"user",string:"None"},{value:"moderator",string:"Moderator"}];n&&i.push({value:"admin",string:"Administrator"});var a={options:i};e.isAdmin?a.default="admin":e.isModerator?a.default="moderator":a.default="user",Cx([{type:"label",label:"Change Role for ".concat(e.name,"?"),placeholder:"none"},{type:"option",label:"Role: ",placeholder:a}],"Save",function(){var n=Pt(Lt().mark((function n(i){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D_.setUserRank(t,e.uid,i[1]);case 2:r&&r();case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},Ox=Nt.ul(Ax||(Ax=Q(["\n  list-style: none;\n  display: flex;\n  flex-flow: row wrap;\n"]))),Px=Nt.li(Nx||(Nx=Q(["\n  flex: 0 1 300px;\n  background-color: #5e5e5e;\n  margin: 5px;\n  box-shadow: #262626 2px 2px 5px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0px 5px;\n\n  &:hover{\n    background-color: #4f4e4e;\n  }\n\n  &>img{\n    border-radius: 50%;\n    overflow: clip;\n    background-color: blue;\n    width: 50px;\n    height: 50px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"])));function Dx(e){var n=e.userKey,r=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){return D_.getAllServers().then((function(e){r(e)})),function(){}}),[]),n}(),i=T();return(0,G.jsx)("div",{children:(0,G.jsx)(Ox,{children:r.map((function(e){return(0,G.jsxs)(Px,{onClick:function(){D_.addUserToServer(e.serverKey,n).then((function(){i("/discord-clone/server/".concat(e.serverKey))}))},children:[(0,G.jsx)("img",{src:e.iconURL,alt:e.altText}),(0,G.jsx)("span",{children:e.serverName})]},e.serverKey)}))})})}Dx.defaultProps={userKey:"missing"};var Lx,Mx,Ux,jx,Fx,Vx,Bx,zx=Dx,qx=Nt.div(Lx||(Lx=Q(["{\n  padding: 10px;\n\n  >div {\n    font-weight: bold;\n    font-size: 1.1em;\n    text-align: center;\n  }\n}"]))),Kx=Nt.li(Mx||(Mx=Q(["{\n  height: 30px;\n  margin: 3px 0px;\n  display: flex;\n  align-items: center;\n  list-style:none;\n  background-color: #3a3b40;\n\n  ","\n\n  :hover{\n    background-color: #3f4145;\n  }\n\n  img{\n    border-radius: 50%;\n    width: 30px;\n    height: 30px;\n    background-color: red;\n    color: white;\n    overflow: clip;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    margin-right: 10px;\n  }\n\n  >div{\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n}"])),(function(e){return e.isOwner?lt(Ux||(Ux=Q(["&&{color:red}"]))):e.isAdmin?lt(jx||(jx=Q(["&&{color:orange}"]))):e.isModerator?lt(Fx||(Fx=Q(["&&{color:yellow}"]))):lt(Vx||(Vx=Q(["&&{}"])))})),Hx=Nt.ul(Bx||(Bx=Q(["{\n  padding: 0px;\n}"])));function Wx(e){var n=e.serverKey,r=e.selfKey,i=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=function(){var e=Pt(Lt().mark((function e(t,n){var r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$_({},n),e.next=3,D_.getUserDetails(n.uid,(function(e){r.name=e.name,r.icon=e.icon}));case 3:i((function(e){var n=e.findIndex((function(e){return t===e.uid}));if(n>-1){var i=Xt(e);return i[n]=r,i}return e}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var e=Pt(Lt().mark((function e(t){var n;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=$_({},t)).name=t.uid,n.icon="blank",i((function(e){if(e.findIndex((function(e){return t.uid===e.uid}))>-1)return e;var r=Xt(e);return r.push(n),r})),D_.getUserDetails(n.uid,(function(e){n.name=e.name,n.icon=e.icon,i((function(e){var t=e.findIndex((function(e){return n.uid===e.uid}));if(t>-1){var r=Xt(e);return r[t]=n,r}return e}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return D_.subscribeToUserList(e,n,t,(function(e){i((function(t){var n=t.findIndex((function(t){return e===t.uid}));return n>-1?t.slice(0,n).concat(t.slice(n)):t}))})),function(){i([]),D_.unSubscribeToUserList()}}),[e]),r}(n),a=!1,s=!1,u=i.findIndex((function(e){return e.uid===r}));return u>-1&&(a=i[u].isOwner,s=i[u].isAdmin),(0,G.jsxs)(qx,{children:[(0,G.jsx)("div",{children:"Users"}),(0,G.jsx)(Hx,{children:i.map((function(e){return(0,G.jsx)(Kx,{isOwner:e.isOwner,isAdmin:e.isAdmin,isModerator:e.isModerator,onClick:function(){r===e.uid||e.isOwner||(a?Rx.promoteUserModal(e,n,!0):s&&!e.isAdmin&&Rx.promoteUserModal(e,n,!1))},children:(0,G.jsxs)("div",{children:[(0,G.jsx)("img",{src:e.icon,alt:"U"}),(0,G.jsx)("span",{children:e.name})]})},"ul-".concat(e.uid))}))})]})}Wx.defaultProps={serverKey:null,selfKey:null};var Gx,$x,Qx,Xx,Yx,Jx,Zx,eE,tE,nE,rE,iE,aE,oE=Wx,sE="200px",uE=Nt.div(Gx||(Gx=Q(["{\n  display: grid;\n  grid-template-columns: auto auto 1fr auto;\n  grid-template-rows: auto 1fr auto auto;\n  min-height: 100vh;\n  min-width: 100vw;\n  max-height: max(100vh, 200px);\n}"]))),cE=Nt.nav($x||($x=Q(["{\n  background-color: #212226;\n  color: white;\n  grid-row: 1 / 5;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  padding: 20px 0px;\n  overflow: hidden scroll;\n  scrollbar-width: none;\n\n  .line{\n    border-bottom: solid 1px gray;\n    width: 50%;\n  }\n\n  >a{\n    color: white;\n    text-decoration: none;\n  }\n}"]))),lE=Nt.div(Qx||(Qx=Q(["{\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-column: 2 / 5;\n  color: white;\n  height: 3em;\n  box-shadow: black 0px 2px 5px 0px;\n  z-index: 1;\n\n  &>div{\n    background-color:#363940;\n    display: flex;\n    align-items: center;\n    font-weight: bold;\n    padding-left: 10px;\n    gap: 20px;\n  }\n\n  &>div:first-child {\n    background-color: #303136;\n    width: ",';\n    box-sizing: border-box;\n  }\n\n  .symbolled{\n    display: flex;\n    align-items: center;\n  }\n\n  .symbolled::before {\n    content: "#";\n    color: #6f747a;\n    margin: 0px 10px;\n    font-size: 2em; \n    font-weight: 100;\n  }\n\n  .channel-desc{\n    font-size: 0.8em;\n    font-weight: normal;\n    color: #b4aab5;\n  }\n\n  .line{\n    border-left: solid 1px gray;\n    height: 50%;\n  }\n\n  .signout{\n    margin-left: auto;\n    margin-right: 1em;\n  }\n}'])),sE),fE=Nt.nav(Xx||(Xx=Q(["{\n  display: grid;\n  grid-template-columns: auto;\n  grid-auto-rows: auto;\n  align-items: baseline;\n  grid-template-rows: auto;\n  align-content: baseline;\n  grid-row: 2 / 4;\n  background-color: #303136;\n  color: white;\n  width: ",";\n  padding: 20px 5px;\n  box-sizing: border-box;\n  row-gap: 5px;\n  overflow: hidden scroll;\n  scrollbar-width: none;\n\n  >a{\n    text-decoration: none;\n  }\n}"])),sE),hE=Nt.div(Yx||(Yx=Q(['{\n  padding: 5px 5px;\n  border-radius: 5px;\n\n  &:hover{\n    background-color: #393c43;\n\n    .symbolled{\n      color: #dee1d8;\n    }\n  }\n\n  .symbolled{\n    display: flex;\n    align-items: center;\n    color: #85888f;\n  }\n\n  .symbolled::before {\n    content: "#";\n    color: #6f747a;\n    padding: 0px 5px;\n    font-size: 1.2em;\n    font-weight: 100;\n  }\n}']))),dE=Nt.div(Jx||(Jx=Q(["{\n  background-color: #2a2b2f;\n  grid-row: 4 / 5;\n  grid-column: 2 / 3;\n  height: 60px;\n  display: flex;\n  align-items: center;\n\n  color: white;\n  font-size: 1em;\n  font-weight: bold;\n\n  img{\n    border-radius: 50%;\n    overflow: clip;\n    background-color: red;\n    width: 50px;\n    height: 50px;\n    margin: 0px 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}"]))),pE=Nt.main(Zx||(Zx=Q(["{\n  background-color: #363940;\n  color: white;\n  grid-row: 2 / 3;\n  grid-column: 3 / 4;\n  overflow: hidden scroll;\n  padding-top:10px;\n  scrollbar-width: thin;\n  scrollbar-color: #313235 #42454a;\n}"]))),vE=Nt.div(eE||(eE=Q(["{\n  background-color:#363940;\n  color: white;\n  grid-row: 3/5;\n  height: 75px;\n  overflow: hidden;\n  display: flex;\n  align-items: baseline;\n\n  textarea{\n    width: 100%;\n    margin: 0px 20px;\n    height: 1em;\n    padding: 1em 10px;\n    background-color: #40454b;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    outline: none;\n    resize: none;\n    font-family: inherit;\n  }\n}"]))),mE=Nt.div(tE||(tE=Q(["{\n  background-color: #303136;\n  color: white;\n  width: ",";\n  grid-row: 2/5;\n}"])),sE),yE=Nt(pE)(nE||(nE=Q(["\n  grid-row: 2/5;\n"]))),gE=Nt.button(rE||(rE=Q(["\n  background-color: #71737a;\n  color: white;\n  border: none;\n  padding: 6px;\n\n  :active{\n    background-color: #4f4f4f;\n  }\n"]))),kE={ServerFrame:uE,ServerNav:cE,HeaderBar:lE,ChannelNav:fE,Channel:hE,UserPanel:dE,MainContent:pE,InputBox:vE,UserList:mE,BlankMain:yE,TopNavButton:gE,LogOutButton:Nt(gE)(iE||(iE=Q(["\n  color: #f77;\n  font-size: 1.1em;\n  padding: 6px 20px;\n  text-shadow: #111 2px 1px 2px;\n"]))),NewChannelButton:Nt(gE)(aE||(aE=Q(["\n  margin: 10px 20px;\n"])))};function bE(e){var t=e.target.value.trim();"Enter"===e.code&&t?(Rs.getUserAuth().then((function(e){D_.sendMessage({content:t,timestamp:"Now",user:e.uid,messageKey:ex()()})})),e.target.value="",e.stopPropagation()):"Enter"!==e.code||t||(e.target.value="",e.stopPropagation())}var wE=function(){var e=function(){var e=(0,t.useContext)(k).matches,n=e[e.length-1];return n?n.params:{}}(),n=e.serverKey,r=e.channelKey,i="@me"===n,a="@browse"===n,s=(0,t.useRef)(),u=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=function(e){var t=Xt(e);r(t)};return(0,t.useEffect)((function(){return D_.subscribeToServers(i),function(){D_.unSubscribeToServers()}}),[]),n}(),c=function(e,n){var r=o((0,t.useState)([]),2),i=r[0],a=r[1],s=function(e){var t=Xt(e);a(t)};return(0,t.useEffect)((function(){return n?(D_.subscribeToChannels(e,s),function(){D_.unSubscribeToChannels()}):(a([]),function(){})}),[e,n]),i}(n,!(i||a)),l=function(e,n,r){var i=o((0,t.useState)([]),2),a=i[0],s=i[1];return(0,t.useEffect)((function(){return r?(D_.subscribeToMessages(e,(function(e,t){var r=n.current,i=r.scrollHeight-r.scrollTop-r.clientHeight<60;s((function(n){var r=Xt(n);return t?r.unshift(e):r.push(e),r})),i&&!t&&r.scroll({top:r.scrollHeight,behavior:"instant"})}),(function(){}),(function(e){s((function(t){var n=t.findIndex((function(t){return e===t.messageKey}));if(n>-1){var r=Xt(t),i=$_({},t[n]);return i.deleted=!0,r[n]=i,r}return t}))}),(function(){s([])})),function(){D_.unSubscribeToMessages()}):(s([]),function(){})}),[e,r]),a}(r,s,!(i||a)),f=!(i||a),h=T(),d=u.find((function(e){return e.serverKey===n}))||{serverKey:n||"bad-key",serverName:"Loading",iconURL:"Missing",altText:"LDG",owner:"X"};a?d={serverKey:"dummy-server",serverName:"Browse"}:i?d={serverKey:"dummy-server",serverName:"Home"}:d.serverKey||(f=!1);var p=function(e){var n=e?e.serverKey:"dummy-server",r=o((0,t.useState)("0"),2),i=r[0],a=r[1];(0,t.useEffect)((function(){D_.getSelf().then((function(e){a(e.uid)}))}),[]);var s=o((0,t.useState)({uid:i,name:"missing",icon:"blank.png"}),2),u=s[0],c=s[1];(0,t.useEffect)((function(){return D_.subscribeToUserSelf(i,(function(e){c(e)}))}),[i]);var l=o((0,t.useState)({isOwner:!1,isModerator:!1,isAdmin:!1}),2),f=l[0],h=l[1];return(0,t.useEffect)((function(){return D_.subscribeToSelfInServer(i,n,(function(t){h($_($_({},t),{},{isOwner:i===e.owner}))}))}),[i,n]),$_($_({},u),f)}(d),v=c.find((function(e){return e.channelKey===r}))||{};a?v={channelKey:"dummy-server",channelName:"Browse",channelDesc:"Join an existing server"}:i?v={channelKey:"dummy-server",channelName:"Home",channelDesc:"Your home page"}:v.channelKey||(f=!1);var m=function(e,n){var r=o((0,t.useState)(!1),2),i=r[0],a=r[1];return n?function(){i||(e.current.scrollTop<25&&D_.loadMoreMessages(),a(!0),setTimeout((function(){a(!1)}),1250))}:function(){}}(s,f);return(0,G.jsxs)(kE.ServerFrame,{children:[(0,G.jsxs)(kE.ServerNav,{children:[(0,G.jsx)(W,{to:"/discord-clone/server/@me","aria-current":i,children:(0,G.jsx)(lx,{serverName:"Home",src:"gone",alt:"@me",serverActive:i,isDefault:!0})},"@me"),(0,G.jsx)("div",{className:"line"}),u.map((function(e){return(0,G.jsx)(W,{to:"/discord-clone/server/".concat(e.serverKey),"aria-current":e.serverKey===n,children:(0,G.jsx)(lx,{serverName:e.serverName,src:e.iconURL,alt:e.altText,serverActive:e.serverKey===n})},e.serverKey)})),(0,G.jsx)("div",{role:"button",tabIndex:"0",onClick:function(){Rx.createServerModal(p,(function(e,t){h("/discord-clone/server/".concat(e,"/").concat(t))}))},children:(0,G.jsx)(lx,{serverName:"New Server",src:"gone",alt:"Create",isDefault:!0})}),(0,G.jsx)(W,{to:"/discord-clone/server/@browse","aria-current":a,children:(0,G.jsx)(lx,{serverName:"Find Server",src:"gone",alt:"Browse",serverActive:a,isDefault:!0})},"@browse")]}),(0,G.jsxs)(kE.HeaderBar,{children:[(0,G.jsx)("div",{className:"server-bar",children:d.serverName}),(0,G.jsxs)("div",{className:"channel-bar",children:[(0,G.jsx)("span",{className:"symbolled",children:v.channelName}),(0,G.jsx)("div",{className:"line"}),(0,G.jsx)("span",{className:"channel-desc",children:v.channelDesc}),f&&(p.isOwner||p.isAdmin)&&(0,G.jsx)(kE.TopNavButton,{className:"edit-server",type:"button",onClick:function(){Rx.editServerModal(d)},children:"Edit Server"}),f&&p.isOwner&&(0,G.jsx)(kE.TopNavButton,{className:"delete-server",type:"button",onClick:function(){Rx.deleteServerModal(d,(function(){h("/discord-clone/server/@me")}))},children:"Delete Server"}),f&&!p.isOwner&&(0,G.jsx)(kE.TopNavButton,{className:"leave-server",type:"button",onClick:function(){Rx.leaveServerModal(d,p,(function(){h("/discord-clone/server/@me")}))},children:"Leave Server"}),f&&(p.isOwner||p.isAdmin)&&(0,G.jsx)(kE.TopNavButton,{className:"edit-channel",type:"button",onClick:function(){Rx.editChannelModal(v)},children:"Edit Channel"}),f&&(p.isOwner||p.isAdmin)&&(0,G.jsx)(kE.TopNavButton,{className:"delete-channel",type:"button",onClick:function(){Rx.deleteChannelModal(v,c,(function(e,t){h("/discord-clone/server/".concat(e,"/").concat(t))}))},children:"Delete Channel"}),(0,G.jsx)(kE.LogOutButton,{className:"signout",type:"button",onClick:function(){Rx.signOutModal((function(){h("/discord-clone/login")}))},children:"Log Out"})]})]}),(0,G.jsxs)(kE.ChannelNav,{children:[(p.isOwner||p.isAdmin)&&(0,G.jsx)(kE.NewChannelButton,{className:"create-channel",type:"button",onClick:function(){Rx.createChannelModal(d,(function(e,t){h("/discord-clone/server/".concat(e,"/").concat(t))}))},children:"Create Channel"}),c.map((function(e){return(0,G.jsx)(W,{to:"/discord-clone/server/".concat(n,"/").concat(e.channelKey),"aria-current":e.channelKey===r?"true":"false",children:(0,G.jsx)(kE.Channel,{children:(0,G.jsx)("span",{className:"symbolled",children:e.channelName})})},e.channelKey)}))]}),(0,G.jsxs)(kE.UserPanel,{onClick:function(){Rx.editUserModal(p)},children:[(0,G.jsx)("img",{src:p.icon,alt:"U"}),(0,G.jsx)("span",{children:p.name})]}),f&&(0,G.jsx)(kE.MainContent,{onWheelCapture:m,ref:s,children:l.map((function(e){return(0,G.jsx)(gx,{user:e.user,timestamp:e.timestamp,content:e.content,deleted:e.deleted,isRoot:e.isRoot,isModerator:p.isOwner||p.isAdmin||p.isModerator,deleteFunc:function(){Rx.deleteMessageModal(v,e)}},e.messageKey)}))}),!f&&(0,G.jsx)(kE.BlankMain,{children:a&&(0,G.jsx)(zx,{userKey:p.uid})}),f&&(0,G.jsx)(kE.InputBox,{children:(0,G.jsx)("textarea",{type:"text",placeholder:"Message #".concat(v.channelName),onKeyUp:bE})}),(0,G.jsx)(kE.UserList,{children:f&&(0,G.jsx)(oE,{serverKey:d.serverKey,selfKey:p.uid})})]})};var _E=function(){var e=T();return(0,t.useEffect)((function(){Rs.isSignedIn().then((function(t){t||e("/discord-clone/login")}))}),[]),(0,G.jsx)(wE,{})};var xE=function(){var e=Tx.getModalWindow();return(0,G.jsxs)(H,{children:[e,(0,G.jsxs)(_,{children:[(0,G.jsx)(b,{path:"/discord-clone/register",element:(0,G.jsx)(W_,{register:!0})}),(0,G.jsx)(b,{path:"/discord-clone/login",element:(0,G.jsx)(W_,{register:!1})}),(0,G.jsx)(b,{path:"/discord-clone/@me/:chatKey",element:(0,G.jsx)(_E,{})}),(0,G.jsx)(b,{path:"/discord-clone/@me",element:(0,G.jsx)(_E,{})}),(0,G.jsx)(b,{path:"/discord-clone/server/:serverKey/:channelKey",element:(0,G.jsx)(_E,{})}),(0,G.jsx)(b,{path:"/discord-clone/server/:serverKey",element:(0,G.jsx)(_E,{})}),(0,G.jsx)(b,{path:"/discord-clone/server",element:(0,G.jsx)(_E,{})}),(0,G.jsx)(b,{path:"/discord-clone/discovery",element:(0,G.jsx)(_E,{})}),(0,G.jsx)(b,{path:"*",element:(0,G.jsx)($,{})})]})]})};r.render((0,G.jsx)(t.StrictMode,{children:(0,G.jsx)(xE,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.8109358d.js.map